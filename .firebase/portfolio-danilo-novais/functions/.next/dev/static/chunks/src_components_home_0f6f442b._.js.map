{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danilonovais/_danilonov_portfolio/src/components/home/GlassOrb.tsx"],"sourcesContent":["'use client'\n\nimport * as THREE from 'three'\nimport { useFrame, useThree } from '@react-three/fiber'\nimport { MeshTransmissionMaterial, useGLTF } from '@react-three/drei'\nimport { useEffect, useMemo, useRef } from 'react'\nimport { useMotionValueEvent, useReducedMotion } from 'framer-motion'\nimport type { MotionValue } from 'framer-motion'\n\ntype Props = {\n  scrollYProgress: MotionValue<number>\n}\n\nfunction pickFirstMeshGeometry(scene: THREE.Object3D) {\n  let geometry: THREE.BufferGeometry | null = null\n  scene.traverse((obj) => {\n    if (geometry) return\n    const mesh = obj as unknown as THREE.Mesh\n    if ((mesh as any).isMesh && mesh.geometry) geometry = mesh.geometry\n  })\n  return geometry\n}\n\nexport default function GlassOrb({ scrollYProgress }: Props) {\n  const prefersReducedMotion = useReducedMotion()\n  const groupRef = useRef<THREE.Group>(null)\n  const materialRef = useRef<any>(null)\n\n  const scrollRef = useRef(0)\n  useMotionValueEvent(scrollYProgress, 'change', (v) => {\n    scrollRef.current = v\n  })\n\n  // GLB (não altera o conteúdo textual do site; é apenas o asset 3D)\n  const gltf = useGLTF('/media/torus_dan.glb') as any\n\n  const geometry = useMemo(() => {\n    const scene: THREE.Object3D | undefined = gltf?.scene\n    if (!scene) return null\n    return pickFirstMeshGeometry(scene)\n  }, [gltf])\n\n  const { viewport } = useThree()\n\n  // escala responsiva semelhante ao padrão de \"escala por viewport\"\n  const baseScale = useMemo(() => {\n    const s = Math.min(1.65, Math.max(1.1, viewport.width / 3.6))\n    return s\n  }, [viewport.width])\n\n  useEffect(() => {\n    if (!groupRef.current) return\n    groupRef.current.rotation.set(0, 0, 0)\n  }, [])\n\n  useFrame((state, delta) => {\n    const g = groupRef.current\n    if (!g) return\n\n    const progress = scrollRef.current\n    const pointer = state.pointer\n\n    // rotação base + parallax (motion-reduced: reduz / desativa)\n    const rotSpeed = prefersReducedMotion ? 0 : 0.25\n    const parallax = prefersReducedMotion ? 0 : 0.35\n\n    const targetRotX = pointer.y * parallax\n    const targetRotY = pointer.x * parallax + state.clock.elapsedTime * rotSpeed\n\n    g.rotation.x = THREE.MathUtils.lerp(g.rotation.x, targetRotX, 1 - Math.pow(0.001, delta))\n    g.rotation.y = THREE.MathUtils.lerp(g.rotation.y, targetRotY, 1 - Math.pow(0.001, delta))\n\n    // distorção / cromática por scroll\n    const mat = materialRef.current\n    if (mat) {\n      const t = prefersReducedMotion ? 0 : progress\n      const chroma = THREE.MathUtils.lerp(0.02, 0.085, t)\n      const distortion = THREE.MathUtils.lerp(0.08, 0.35, t)\n      const temporal = THREE.MathUtils.lerp(0.0, 0.18, t)\n\n      mat.chromaticAberration = chroma\n      mat.distortion = distortion\n      mat.temporalDistortion = temporal\n    }\n  })\n\n  if (!geometry) {\n    // fallback seguro caso o GLB não esteja disponível\n    return (\n      <group ref={groupRef} scale={baseScale} position={[0.3, 0.15, 0]}>\n        <mesh>\n          <torusKnotGeometry args={[1, 0.36, 220, 24]} />\n          <MeshTransmissionMaterial\n            ref={materialRef}\n            thickness={0.22}\n            roughness={0.02}\n            transmission={1}\n            ior={1.25}\n            chromaticAberration={0.05}\n            distortion={0.18}\n            distortionScale={0.45}\n            temporalDistortion={0.12}\n            anisotropicBlur={0.1}\n            backside\n          />\n        </mesh>\n      </group>\n    )\n  }\n\n  return (\n    <group ref={groupRef} scale={baseScale} position={[0.45, 0.15, 0]}>\n      <mesh geometry={geometry}>\n        <MeshTransmissionMaterial\n          ref={materialRef}\n          thickness={0.22}\n          roughness={0.02}\n          transmission={1}\n          ior={1.25}\n          chromaticAberration={0.05}\n          distortion={0.18}\n          distortionScale={0.45}\n          temporalDistortion={0.12}\n          anisotropicBlur={0.1}\n          backside\n        />\n      </mesh>\n    </group>\n  )\n}\n\nuseGLTF.preload('/media/torus_dan.glb')\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///Users/danilonovais/_danilonov_portfolio/src/components/home/HeroGlassCanvas.tsx"],"sourcesContent":["'use client'\n\nimport { Canvas } from '@react-three/fiber'\nimport { Environment, Preload } from '@react-three/drei'\nimport { Suspense, useMemo } from 'react'\nimport type { MotionValue } from 'framer-motion'\nimport GlassOrb from './GlassOrb'\n\ntype Props = {\n  scrollYProgress: MotionValue<number>\n  className?: string\n}\n\nfunction HeroLights() {\n  return (\n    <>\n      <ambientLight intensity={0.4} />\n      <directionalLight position={[3, 4, 2]} intensity={1.35} />\n      <directionalLight position={[-4, -1, -2]} intensity={0.6} />\n    </>\n  )\n}\n\nexport default function HeroGlassCanvas({ scrollYProgress, className }: Props) {\n  const dpr = useMemo(() => [1, 1.5] as [number, number], [])\n\n  return (\n    <div className={className}>\n      <Canvas\n        dpr={dpr}\n        camera={{ position: [0, 0, 4.2], fov: 38, near: 0.1, far: 100 }}\n        gl={{ antialias: true, alpha: true, powerPreference: 'high-performance' }}\n      >\n        <color attach=\"background\" args={['transparent']} />\n        <Suspense fallback={null}>\n          <HeroLights />\n          <Environment preset=\"city\" background={false} blur={1} />\n          <GlassOrb scrollYProgress={scrollYProgress} />\n          <Preload all />\n        </Suspense>\n      </Canvas>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAEA;;;AANA;;;;;AAaA,SAAS;IACP,qBACE;;0BACE,6LAAC;gBAAa,WAAW;;;;;;0BACzB,6LAAC;gBAAiB,UAAU;oBAAC;oBAAG;oBAAG;iBAAE;gBAAE,WAAW;;;;;;0BAClD,6LAAC;gBAAiB,UAAU;oBAAC,CAAC;oBAAG,CAAC;oBAAG,CAAC;iBAAE;gBAAE,WAAW;;;;;;;;AAG3D;KARS;AAUM,SAAS,gBAAgB,EAAE,eAAe,EAAE,SAAS,EAAS;;IAC3E,MAAM,MAAM,IAAA,wKAAO;wCAAC,IAAM;gBAAC;gBAAG;aAAI;uCAAsB,EAAE;IAE1D,qBACE,6LAAC;QAAI,WAAW;kBACd,cAAA,6LAAC,gNAAM;YACL,KAAK;YACL,QAAQ;gBAAE,UAAU;oBAAC;oBAAG;oBAAG;iBAAI;gBAAE,KAAK;gBAAI,MAAM;gBAAK,KAAK;YAAI;YAC9D,IAAI;gBAAE,WAAW;gBAAM,OAAO;gBAAM,iBAAiB;YAAmB;;8BAExE,6LAAC;oBAAM,QAAO;oBAAa,MAAM;wBAAC;qBAAc;;;;;;8BAChD,6LAAC,yKAAQ;oBAAC,UAAU;;sCAClB,6LAAC;;;;;sCACD,6LAAC,iLAAW;4BAAC,QAAO;4BAAO,YAAY;4BAAO,MAAM;;;;;;sCACpD,6LAAC,oJAAQ;4BAAC,iBAAiB;;;;;;sCAC3B,6LAAC,yKAAO;4BAAC,GAAG;;;;;;;;;;;;;;;;;;;;;;;AAKtB;GApBwB;MAAA"}}]
}