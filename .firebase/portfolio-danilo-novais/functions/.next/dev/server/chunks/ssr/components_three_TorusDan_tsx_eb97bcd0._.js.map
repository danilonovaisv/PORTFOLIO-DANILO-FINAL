{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danilonovais/_danilonov_portfolio/components/three/TorusDan.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Float, MeshTransmissionMaterial, useGLTF } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ntype TorusDanProps = {\n  reduceMotion?: boolean;\n};\n\nconst TorusDan = ({ reduceMotion = false }: TorusDanProps) => {\n  const groupRef = useRef<THREE.Group>(null);\n  const { nodes } = useGLTF('/media/torus_dan.glb');\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const update = () => setIsMobile(window.innerWidth < 768);\n    update();\n    window.addEventListener('resize', update);\n    return () => window.removeEventListener('resize', update);\n  }, []);\n\n  const geometry =\n    (nodes as any).Torus?.geometry ||\n    (nodes as any).Torus002?.geometry ||\n    (nodes as any).Mesh?.geometry;\n\n  if (!geometry) {\n    return null;\n  }\n\n  const materialConfig = useMemo(\n    () => ({\n      transmission: 1,\n      thickness: 0.65,\n      roughness: 0.08,\n      ior: 1.25,\n      chromaticAberration: 0.06,\n      backside: true,\n      samples: isMobile ? 8 : 14,\n      resolution: isMobile ? 420 : 720,\n    }),\n    [isMobile]\n  );\n\n  useFrame((_, delta) => {\n    if (reduceMotion || !groupRef.current) return;\n    groupRef.current.rotation.y += delta * 0.35;\n    groupRef.current.rotation.x = THREE.MathUtils.lerp(\n      groupRef.current.rotation.x,\n      0.15,\n      0.05\n    );\n  });\n\n  const mesh = (\n    // @ts-ignore\n    <mesh geometry={geometry}>\n      {/* Ajuste de material para vidro com tier mobile */}\n      <MeshTransmissionMaterial {...materialConfig} />\n    </mesh>\n  );\n\n  if (reduceMotion) {\n    return (\n      // @ts-ignore\n      <group ref={groupRef} dispose={null} scale={2.8}>\n        {mesh}\n      </group>\n    );\n  }\n\n  return (\n    // @ts-ignore\n    <group ref={groupRef} dispose={null} scale={2.8}>\n      <Float\n        speed={1.4}\n        rotationIntensity={0.2}\n        floatIntensity={0.35}\n        floatingRange={[-0.1, 0.2]}\n      >\n        {mesh}\n      </Float>\n    </group>\n  );\n};\n\nuseGLTF.preload('/media/torus_dan.glb');\n\nexport default TorusDan;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AALA;;;;;;AAWA,MAAM,WAAW,CAAC,EAAE,eAAe,KAAK,EAAiB;IACvD,MAAM,WAAW,IAAA,+MAAM,EAAc;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,mKAAO,EAAC;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,IAAM,YAAY,OAAO,UAAU,GAAG;QACrD;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,MAAM,WACJ,AAAC,MAAc,KAAK,EAAE,YACtB,AAAC,MAAc,QAAQ,EAAE,YACzB,AAAC,MAAc,IAAI,EAAE;IAEvB,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IAEA,MAAM,iBAAiB,IAAA,gNAAO,EAC5B,IAAM,CAAC;YACL,cAAc;YACd,WAAW;YACX,WAAW;YACX,KAAK;YACL,qBAAqB;YACrB,UAAU;YACV,SAAS,WAAW,IAAI;YACxB,YAAY,WAAW,MAAM;QAC/B,CAAC,GACD;QAAC;KAAS;IAGZ,IAAA,2NAAQ,EAAC,CAAC,GAAG;QACX,IAAI,gBAAgB,CAAC,SAAS,OAAO,EAAE;QACvC,SAAS,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,QAAQ;QACvC,SAAS,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,4JAAe,CAAC,IAAI,CAChD,SAAS,OAAO,CAAC,QAAQ,CAAC,CAAC,EAC3B,MACA;IAEJ;IAEA,MAAM,OACJ,aAAa;kBACb,8OAAC;QAAK,UAAU;kBAEd,cAAA,8OAAC,wMAAwB;YAAE,GAAG,cAAc;;;;;;;;;;;IAIhD,IAAI,cAAc;QAChB,OACE,aAAa;sBACb,8OAAC;YAAM,KAAK;YAAU,SAAS;YAAM,OAAO;sBACzC;;;;;;IAGP;IAEA,OACE,aAAa;kBACb,8OAAC;QAAM,KAAK;QAAU,SAAS;QAAM,OAAO;kBAC1C,cAAA,8OAAC,kKAAK;YACJ,OAAO;YACP,mBAAmB;YACnB,gBAAgB;YAChB,eAAe;gBAAC,CAAC;gBAAK;aAAI;sBAEzB;;;;;;;;;;;AAIT;AAEA,mKAAO,CAAC,OAAO,CAAC;uCAED"}}]
}