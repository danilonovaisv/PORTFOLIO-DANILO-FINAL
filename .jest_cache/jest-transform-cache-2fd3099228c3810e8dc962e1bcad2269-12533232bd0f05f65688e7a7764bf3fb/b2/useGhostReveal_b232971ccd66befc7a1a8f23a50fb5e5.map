{"file":"/Users/danilonovais/_danilonov_portfolio/src/hooks/useGhostReveal.ts","mappings":";AAAA,YAAY,CAAC;;AAYb,wCAuCC;AAjDD,iCAAkC;AAIlC;;;;;GAKG;AACH,SAAgB,cAAc,CAC5B,QAAyD,EACzD,SAAiD,EACjD,OAAgB;IAEhB,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,IAAI,CAAC,QAAQ,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO;YAAE,OAAO;QAEjE,IAAI,KAAa,CAAC;QAElB,MAAM,oBAAoB,GAAG,GAAG,EAAE;YAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO;gBAAE,OAAO;YAEpD,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC3C,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAElC,+DAA+D;YAC/D,iEAAiE;YACjE,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,wBAAwB;YAClE,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,wBAAwB;YACjE,MAAM,SAAS,GAAG,GAAG,GAAG,CAAC,CAAC;YAE1B,qDAAqD;YACrD,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,kBAAkB,CAAC,mBAAmB,SAAS,YAAY,CAAC;YAEtF,4EAA4E;YAC5E,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;YAClE,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,GAAG,SAAS,IAAI,CAAC,CAAC;YAE1E,KAAK,GAAG,qBAAqB,CAAC,oBAAoB,CAAC,CAAC;QACtD,CAAC,CAAC;QAEF,+BAA+B;QAC/B,KAAK,GAAG,qBAAqB,CAAC,oBAAoB,CAAC,CAAC;QAEpD,OAAO,GAAG,EAAE;YACV,IAAI,KAAK;gBAAE,oBAAoB,CAAC,KAAK,CAAC,CAAC;QACzC,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;AACrC,CAAC","names":[],"sources":["/Users/danilonovais/_danilonov_portfolio/src/hooks/useGhostReveal.ts"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\nimport * as THREE from 'three';\n\n/**\n * Hook para sincronizar o efeito de revelação 2D com a posição do ghost 3D\n * @param ghostRef - Referência ao grupo do ghost no mundo 3D\n * @param revealRef - Referência ao elemento HTML do overlay de revelação\n * @param enabled - Se o efeito está ativado (desktop com WebGL)\n */\nexport function useGhostReveal(\n  ghostRef: React.RefObject<THREE.Group | null> | undefined,\n  revealRef: React.RefObject<HTMLDivElement | null>,\n  enabled: boolean\n) {\n  useEffect(() => {\n    if (!enabled || !ghostRef?.current || !revealRef.current) return;\n\n    let rafId: number;\n\n    const updateRevealPosition = () => {\n      if (!ghostRef.current || !revealRef.current) return;\n\n      const ghostPos = ghostRef.current.position;\n      const overlay = revealRef.current;\n\n      // Converte posição 3D world-space para coordenadas 2D viewport\n      // Ghost se move aproximadamente de -10 a +10 em X e -7 a +7 em Y\n      const x = ((ghostPos.x + 10) / 20) * 100; // Normaliza para 0-100%\n      const y = ((ghostPos.y + 7) / 14) * 100; // Normaliza para 0-100%\n      const invertedY = 100 - y;\n\n      // Atualiza a posição do overlay usando CSS transform\n      overlay.style.transform = `translate(calc(${x}vw - 50%), calc(${invertedY}vh - 50%))`;\n\n      // Seta variáveis no documento/root para uso em classes CSS (ex: mask-image)\n      document.documentElement.style.setProperty('--ghost-x', `${x}vw`);\n      document.documentElement.style.setProperty('--ghost-y', `${invertedY}vh`);\n\n      rafId = requestAnimationFrame(updateRevealPosition);\n    };\n\n    // Inicia o loop de atualização\n    rafId = requestAnimationFrame(updateRevealPosition);\n\n    return () => {\n      if (rafId) cancelAnimationFrame(rafId);\n    };\n  }, [ghostRef, revealRef, enabled]);\n}\n"],"version":3}