(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58384,e=>{"use strict";let a,t,l,s;e.i(47167);var r=e.i(43476),o=e.i(71645),i=e.i(18566),n=e.i(46932),c=e.i(11795);let d="u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p=new Uint8Array(16),u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));let m=function(e,t,l){if(d&&!t&&!e)return d();var s=e,r=l;let o=(s=s||{}).random??s.rng?.()??function(){if(!a){if("u"<typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(p)}();if(o.length<16)throw Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,a=0){return(u[e[a+0]]+u[e[a+1]]+u[e[a+2]]+u[e[a+3]]+"-"+u[e[a+4]]+u[e[a+5]]+"-"+u[e[a+6]]+u[e[a+7]]+"-"+u[e[a+8]]+u[e[a+9]]+"-"+u[e[a+10]]+u[e[a+11]]+u[e[a+12]]+u[e[a+13]]+u[e[a+14]]+u[e[a+15]]).toLowerCase()}(o)};var h=e.i(27612),x=e.i(75254);let g=(0,x.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),v=(0,x.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f=(0,x.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var j=e.i(71689),b=e.i(7233);let y=(0,x.default)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var N=e.i(35501);let _=(0,x.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),w=(0,x.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),C=(0,x.default)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var k=e.i(29832),E=e.i(22016),R=e.i(57688),T=e.i(3408),T=T;let P=(0,x.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function M({label:e,type:a,value:t,previewUrl:l,onFileSelect:s,onUrlChange:i,onClear:n}){let c,[d,p]=(0,o.useState)("upload");(0,o.useEffect)(()=>{t&&(t.startsWith("http")||t.startsWith("www"))&&!t.includes("supabase.co")&&p("url")},[t]);let u="url"===d&&t&&(c=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/))&&11===c[2].length?c[2]:null,m=!!l||!!t&&"url"===d,x=l||t;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium",children:e}),(0,r.jsxs)("div",{className:"flex bg-slate-800 p-1 rounded-lg",children:[(0,r.jsx)("button",{onClick:()=>p("upload"),className:`px-2 py-1 text-xs rounded-md transition-all ${"upload"===d?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"Upload"}),(0,r.jsx)("button",{onClick:()=>p("url"),className:`px-2 py-1 text-xs rounded-md transition-all ${"url"===d?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"Link"})]})]}),m?(0,r.jsxs)("div",{className:"relative rounded-xl overflow-hidden border border-white/10 group bg-black/20",children:[u?(0,r.jsx)("div",{className:"aspect-video w-full bg-black",children:(0,r.jsx)("iframe",{src:`https://www.youtube.com/embed/${u}?autoplay=1&mute=1&loop=1&playlist=${u}&controls=0&modestbranding=1&rel=0`,title:"YouTube preview",className:"w-full h-full border-none",allowFullScreen:!0})}):"image"===a?(0,r.jsx)("div",{className:"relative min-h-[12.5rem] max-h-[25rem] w-full flex justify-center bg-black/40",children:(0,r.jsx)("img",{src:x,alt:"Preview",className:"h-full w-auto max-h-[25rem] object-contain"})}):(0,r.jsx)("video",{src:x,className:"w-full max-h-[25rem] object-contain",controls:!0,muted:!0,loop:!0,autoPlay:!0}),(0,r.jsx)("div",{className:"absolute top-2 right-2 flex gap-2",children:(0,r.jsx)("button",{onClick:n,className:"bg-red-500 p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remover mídia",children:(0,r.jsx)(h.Trash2,{size:16})})})]}):"upload"===d?(0,r.jsxs)("label",{className:"flex flex-col items-center justify-center py-12 rounded-xl border-2 border-dashed border-white/10 hover:border-blue-500 hover:bg-blue-500/5 cursor-pointer transition-all group",children:["image"===a?(0,r.jsx)(T.default,{className:"text-slate-600 mb-2 group-hover:text-blue-400 transition-colors",size:32}):(0,r.jsx)(w,{className:"text-slate-600 mb-2 group-hover:text-blue-400 transition-colors",size:32}),(0,r.jsx)("span",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest group-hover:text-blue-300",children:"Escolher Arquivo"}),(0,r.jsx)("input",{type:"file",accept:"image"===a?"image/*":"video/*",onChange:e=>{let a=e.target.files?.[0];a&&s(a)},className:"hidden"})]}):(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-slate-950 border border-white/10 rounded-xl px-4 py-3 focus-within:border-blue-500 transition-colors",children:[(0,r.jsx)(P,{className:"text-slate-500",size:18}),(0,r.jsx)("input",{type:"text",placeholder:"image"===a?"https://exemplo.com/imagem.jpg":"Pinte aqui o link do YouTube ou .mp4",className:"bg-transparent border-none outline-none w-full text-sm text-white placeholder-slate-600",onChange:e=>i(e.target.value),value:t||""})]})]})}function A({block:e,onChange:a}){let t=t=>{a({content:{...e.content,...t}})},l=(a,l)=>{let s="text"===a?"textConfig":"textConfig2",o=e.content[s]||{},i=e=>{t({[s]:{...o,...e}})};return(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,r.jsxs)("label",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium flex items-center gap-2",children:[(0,r.jsx)(_,{size:14})," ",l]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 bg-slate-900/50 p-3 rounded-xl border border-white/5",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Tamanho"}),(0,r.jsxs)("select",{value:o.fontSize||"",onChange:e=>i({fontSize:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Tamanho do Texto",children:[(0,r.jsx)("option",{value:"",children:"Padrão"}),(0,r.jsx)("option",{value:"text-xs",children:"Extra Small"}),(0,r.jsx)("option",{value:"text-sm",children:"Small"}),(0,r.jsx)("option",{value:"text-base",children:"Base"}),(0,r.jsx)("option",{value:"text-lg",children:"Large"}),(0,r.jsx)("option",{value:"text-xl",children:"Extra Large"}),(0,r.jsx)("option",{value:"text-2xl",children:"2XL"}),(0,r.jsx)("option",{value:"text-3xl",children:"3XL"}),(0,r.jsx)("option",{value:"text-4xl",children:"4XL"}),(0,r.jsx)("option",{value:"text-5xl",children:"5XL"}),(0,r.jsx)("option",{value:"text-6xl",children:"6XL"}),(0,r.jsx)("option",{value:"text-7xl",children:"7XL"}),(0,r.jsx)("option",{value:"text-8xl",children:"8XL"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Peso"}),(0,r.jsxs)("select",{value:o.fontWeight||"",onChange:e=>i({fontWeight:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Peso da Fonte",children:[(0,r.jsx)("option",{value:"",children:"Padrão"}),(0,r.jsx)("option",{value:"font-thin",children:"Thin"}),(0,r.jsx)("option",{value:"font-light",children:"Light"}),(0,r.jsx)("option",{value:"font-normal",children:"Normal"}),(0,r.jsx)("option",{value:"font-medium",children:"Medium"}),(0,r.jsx)("option",{value:"font-semibold",children:"SemiBold"}),(0,r.jsx)("option",{value:"font-bold",children:"Bold"}),(0,r.jsx)("option",{value:"font-extrabold",children:"ExtraBold"}),(0,r.jsx)("option",{value:"font-black",children:"Black"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Alinhamento"}),(0,r.jsxs)("select",{value:o.textAlign||"",onChange:e=>i({textAlign:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Alinhamento do Texto",children:[(0,r.jsx)("option",{value:"",children:"Padrão"}),(0,r.jsx)("option",{value:"text-left",children:"Esquerda"}),(0,r.jsx)("option",{value:"text-center",children:"Centralizado"}),(0,r.jsx)("option",{value:"text-right",children:"Direita"}),(0,r.jsx)("option",{value:"text-justify",children:"Justificado"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Cor (Hex)"}),(0,r.jsx)("input",{type:"text",value:o.color||"",onChange:e=>i({color:e.target.value}),placeholder:"#FFFFFF",className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white placeholder-slate-600"})]})]}),(0,r.jsx)("textarea",{value:e.content[a]||"",onChange:e=>t({[a]:e.target.value}),className:"w-full h-full min-h-[200px] bg-slate-950/50 border border-white/10 rounded-xl p-4 outline-none focus:border-blue-500/50 transition-all resize-none font-sans",placeholder:"# Título... \\n\\nParágrafo com conteúdo..."})]})},s=(t,l,s,o,i)=>(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(M,{label:i,type:l,value:e.content[t],previewUrl:e[o],onFileSelect:t=>{a({[s]:t,["file"===s?"previewUrl":"previewUrl2"]:URL.createObjectURL(t),content:{...e.content,["file"===s?"media":"media2"]:""}})},onUrlChange:l=>{a({["media"===t?"file":"file2"]:null,["media"===t?"previewUrl":"previewUrl2"]:"",content:{...e.content,[t]:l}})},onClear:()=>{a({[s]:null,[o]:"",content:{...e.content,[t]:""}})}})});switch(e.type){case"text":return(0,r.jsx)("div",{className:"p-4",children:l("text","Conteúdo de Texto")});case"image":return(0,r.jsx)("div",{className:"p-4",children:s("media","image","file","previewUrl","Imagem Full")});case"video":case"video-autoplay":return(0,r.jsx)("div",{className:"p-4",children:s("media","video","file","previewUrl","Vídeo Full")});case"image-text":return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[s("media","image","file","previewUrl","Imagem (Esquerda)"),l("text","Texto (Direita)")]});case"text-image":return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[l("text","Texto (Esquerda)"),s("media","image","file","previewUrl","Imagem (Direita)")]});case"image-image":return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[s("media","image","file","previewUrl","Imagem 01"),s("media2","image","file2","previewUrl2","Imagem 02")]});case"image-video":return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[s("media","image","file","previewUrl","Imagem"),s("media2","video","file2","previewUrl2","Vídeo")]});case"video-text":return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[s("media","video","file","previewUrl","Vídeo (Esquerda)"),l("text","Texto (Direita)")]});default:return(0,r.jsx)("div",{className:"p-4 text-red-500",children:"Tipo de bloco desconhecido"})}}var S=e.i(81140),L=e.i(20783),I=e.i(30030),U=e.i(69340),O=e.i(48425);function D(e){var a;let t,l=(a=e,(t=o.forwardRef((e,a)=>{let{children:t,...l}=e;if(o.isValidElement(t)){var s;let e,r,i=(s=t,(r=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(r=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),n=function(e,a){let t={...a};for(let l in a){let s=e[l],r=a[l];/^on[A-Z]/.test(l)?s&&r?t[l]=(...e)=>{let a=r(...e);return s(...e),a}:s&&(t[l]=s):"style"===l?t[l]={...s,...r}:"className"===l&&(t[l]=[s,r].filter(Boolean).join(" "))}return{...e,...t}}(l,t.props);return t.type!==o.Fragment&&(n.ref=a?(0,L.composeRefs)(a,i):i),o.cloneElement(t,n)}return o.Children.count(t)>1?o.Children.only(null):null})).displayName=`${a}.SlotClone`,t),s=o.forwardRef((e,a)=>{let{children:t,...s}=e,i=o.Children.toArray(t),n=i.find(z);if(n){let e=n.props.children,t=i.map(a=>a!==n?a:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,r.jsx)(l,{...s,ref:a,children:o.isValidElement(e)?o.cloneElement(e,void 0,t):null})}return(0,r.jsx)(l,{...s,ref:a,children:t})});return s.displayName=`${e}.Slot`,s}var V=Symbol("radix.slottable");function z(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===V}function F(e){let a=e+"CollectionProvider",[t,l]=(0,I.createContextScope)(a),[s,i]=t(a,{collectionRef:{current:null},itemMap:new Map}),n=e=>{let{scope:a,children:t}=e,l=o.default.useRef(null),i=o.default.useRef(new Map).current;return(0,r.jsx)(s,{scope:a,itemMap:i,collectionRef:l,children:t})};n.displayName=a;let c=e+"CollectionSlot",d=D(c),p=o.default.forwardRef((e,a)=>{let{scope:t,children:l}=e,s=i(c,t),o=(0,L.useComposedRefs)(a,s.collectionRef);return(0,r.jsx)(d,{ref:o,children:l})});p.displayName=c;let u=e+"CollectionItemSlot",m="data-radix-collection-item",h=D(u),x=o.default.forwardRef((e,a)=>{let{scope:t,children:l,...s}=e,n=o.default.useRef(null),c=(0,L.useComposedRefs)(a,n),d=i(u,t);return o.default.useEffect(()=>(d.itemMap.set(n,{ref:n,...s}),()=>void d.itemMap.delete(n))),(0,r.jsx)(h,{...{[m]:""},ref:c,children:l})});return x.displayName=u,[{Provider:n,Slot:p,ItemSlot:x},function(a){let t=i(e+"CollectionConsumer",a);return o.default.useCallback(()=>{let e=t.collectionRef.current;if(!e)return[];let a=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(t.itemMap.values()).sort((e,t)=>a.indexOf(e.ref.current)-a.indexOf(t.ref.current))},[t.collectionRef,t.itemMap])},l]}var $=new WeakMap;function H(e,a){var t,l;let s,r,o;if("at"in Array.prototype)return Array.prototype.at.call(e,a);let i=(t=e,l=a,s=t.length,(o=(r=K(l))>=0?r:s+r)<0||o>=s?-1:o);return -1===i?void 0:e[i]}function K(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],$.set(this,!0)}set(e,a){return $.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,a),this}insert(e,a,t){let l,s=this.has(a),r=this.#e.length,o=K(e),i=o>=0?o:r+o,n=i<0||i>=r?-1:i;if(n===this.size||s&&n===this.size-1||-1===n)return this.set(a,t),this;let c=this.size+ +!s;o<0&&i++;let d=[...this.#e],p=!1;for(let e=i;e<c;e++)if(i===e){let r=d[e];d[e]===a&&(r=d[e+1]),s&&this.delete(a),l=this.get(r),this.set(a,t)}else{p||d[e-1]!==a||(p=!0);let t=d[p?e:e-1],s=l;l=this.get(t),this.delete(t),this.set(t,s)}return this}with(a,t,l){let s=new e(this);return s.insert(a,t,l),s}before(e){let a=this.#e.indexOf(e)-1;if(!(a<0))return this.entryAt(a)}setBefore(e,a,t){let l=this.#e.indexOf(e);return -1===l?this:this.insert(l,a,t)}after(e){let a=this.#e.indexOf(e);if(-1!==(a=-1===a||a===this.size-1?-1:a+1))return this.entryAt(a)}setAfter(e,a,t){let l=this.#e.indexOf(e);return -1===l?this:this.insert(l+1,a,t)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let a=super.delete(e);return a&&this.#e.splice(this.#e.indexOf(e),1),a}deleteAt(e){let a=this.keyAt(e);return void 0!==a&&this.delete(a)}at(e){let a=H(this.#e,e);if(void 0!==a)return this.get(a)}entryAt(e){let a=H(this.#e,e);if(void 0!==a)return[a,this.get(a)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return H(this.#e,e)}from(e,a){let t=this.indexOf(e);if(-1===t)return;let l=t+a;return l<0&&(l=0),l>=this.size&&(l=this.size-1),this.at(l)}keyFrom(e,a){let t=this.indexOf(e);if(-1===t)return;let l=t+a;return l<0&&(l=0),l>=this.size&&(l=this.size-1),this.keyAt(l)}find(e,a){let t=0;for(let l of this){if(Reflect.apply(e,a,[l,t,this]))return l;t++}}findIndex(e,a){let t=0;for(let l of this){if(Reflect.apply(e,a,[l,t,this]))return t;t++}return -1}filter(a,t){let l=[],s=0;for(let e of this)Reflect.apply(a,t,[e,s,this])&&l.push(e),s++;return new e(l)}map(a,t){let l=[],s=0;for(let e of this)l.push([e[0],Reflect.apply(a,t,[e,s,this])]),s++;return new e(l)}reduce(...e){let[a,t]=e,l=0,s=t??this.at(0);for(let t of this)s=0===l&&1===e.length?t:Reflect.apply(a,this,[s,t,l,this]),l++;return s}reduceRight(...e){let[a,t]=e,l=t??this.at(-1);for(let t=this.size-1;t>=0;t--){let s=this.at(t);l=t===this.size-1&&1===e.length?s:Reflect.apply(a,this,[l,s,t,this])}return l}toSorted(a){return new e([...this.entries()].sort(a))}toReversed(){let a=new e;for(let e=this.size-1;e>=0;e--){let t=this.keyAt(e),l=this.get(t);a.set(t,l)}return a}toSpliced(...a){let t=[...this.entries()];return t.splice(...a),new e(t)}slice(a,t){let l=new e,s=this.size-1;if(void 0===a)return l;a<0&&(a+=this.size),void 0!==t&&t>0&&(s=t-1);for(let e=a;e<=s;e++){let a=this.keyAt(e),t=this.get(a);l.set(a,t)}return l}every(e,a){let t=0;for(let l of this){if(!Reflect.apply(e,a,[l,t,this]))return!1;t++}return!0}some(e,a){let t=0;for(let l of this){if(Reflect.apply(e,a,[l,t,this]))return!0;t++}return!1}});var q=o.createContext(void 0);function B(e){let a=o.useContext(q);return e||a||"ltr"}var G=e.i(26330),J=e.i(3536),W=e.i(65491),X=e.i(10772),Y=e.i(53660),Z=e.i(74606),Q=e.i(96626),ee=e.i(30207),ea="rovingFocusGroup.onEntryFocus",et={bubbles:!1,cancelable:!0},el="RovingFocusGroup",[es,er,eo]=F(el),[ei,en]=(0,I.createContextScope)(el,[eo]),[ec,ed]=ei(el),ep=o.forwardRef((e,a)=>(0,r.jsx)(es.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(es.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(eu,{...e,ref:a})})}));ep.displayName=el;var eu=o.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:t,orientation:l,loop:s=!1,dir:i,currentTabStopId:n,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:u=!1,...m}=e,h=o.useRef(null),x=(0,L.useComposedRefs)(a,h),g=B(i),[v,f]=(0,U.useControllableState)({prop:n,defaultProp:c??null,onChange:d,caller:el}),[j,b]=o.useState(!1),y=(0,ee.useCallbackRef)(p),N=er(t),_=o.useRef(!1),[w,C]=o.useState(0);return o.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(ea,y),()=>e.removeEventListener(ea,y)},[y]),(0,r.jsx)(ec,{scope:t,orientation:l,dir:g,loop:s,currentTabStopId:v,onItemFocus:o.useCallback(e=>f(e),[f]),onItemShiftTab:o.useCallback(()=>b(!0),[]),onFocusableItemAdd:o.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:o.useCallback(()=>C(e=>e-1),[]),children:(0,r.jsx)(O.Primitive.div,{tabIndex:j||0===w?-1:0,"data-orientation":l,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:(0,S.composeEventHandlers)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,S.composeEventHandlers)(e.onFocus,e=>{let a=!_.current;if(e.target===e.currentTarget&&a&&!j){let a=new CustomEvent(ea,et);if(e.currentTarget.dispatchEvent(a),!a.defaultPrevented){let e=N().filter(e=>e.focusable);eg([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),u)}}_.current=!1}),onBlur:(0,S.composeEventHandlers)(e.onBlur,()=>b(!1))})})}),em="RovingFocusGroupItem",eh=o.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:t,focusable:l=!0,active:s=!1,tabStopId:i,children:n,...c}=e,d=(0,X.useId)(),p=i||d,u=ed(em,t),m=u.currentTabStopId===p,h=er(t),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:v}=u;return o.useEffect(()=>{if(l)return x(),()=>g()},[l,x,g]),(0,r.jsx)(es.ItemSlot,{scope:t,id:p,focusable:l,active:s,children:(0,r.jsx)(O.Primitive.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...c,ref:a,onMouseDown:(0,S.composeEventHandlers)(e.onMouseDown,e=>{l?u.onItemFocus(p):e.preventDefault()}),onFocus:(0,S.composeEventHandlers)(e.onFocus,()=>u.onItemFocus(p)),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;let a=function(e,a,t){var l;let s=(l=e.key,"rtl"!==t?l:"ArrowLeft"===l?"ArrowRight":"ArrowRight"===l?"ArrowLeft":l);if(!("vertical"===a&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===a&&["ArrowUp","ArrowDown"].includes(s)))return ex[s]}(e,u.orientation,u.dir);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===a)s.reverse();else if("prev"===a||"next"===a){var t,l;"prev"===a&&s.reverse();let r=s.indexOf(e.currentTarget);s=u.loop?(t=s,l=r+1,t.map((e,a)=>t[(l+a)%t.length])):s.slice(r+1)}setTimeout(()=>eg(s))}}),children:"function"==typeof n?n({isCurrentTabStop:m,hasTabStop:null!=v}):n})})});eh.displayName=em;var ex={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eg(e,a=!1){let t=document.activeElement;for(let l of e)if(l===t||(l.focus({preventScroll:a}),document.activeElement!==t))return}var ev=Symbol("radix.slottable");function ef(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ev}var ej=e.i(86312),eb=e.i(85369),ey=["Enter"," "],eN=["ArrowUp","PageDown","End"],e_=["ArrowDown","PageUp","Home",...eN],ew={ltr:[...ey,"ArrowRight"],rtl:[...ey,"ArrowLeft"]},eC={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ek="Menu",[eE,eR,eT]=F(ek),[eP,eM]=(0,I.createContextScope)(ek,[eT,Y.createPopperScope,en]),eA=(0,Y.createPopperScope)(),eS=en(),[eL,eI]=eP(ek),[eU,eO]=eP(ek),eD=e=>{let{__scopeMenu:a,open:t=!1,children:l,dir:s,onOpenChange:i,modal:n=!0}=e,c=eA(a),[d,p]=o.useState(null),u=o.useRef(!1),m=(0,ee.useCallbackRef)(i),h=B(s);return o.useEffect(()=>{let e=()=>{u.current=!0,document.addEventListener("pointerdown",a,{capture:!0,once:!0}),document.addEventListener("pointermove",a,{capture:!0,once:!0})},a=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",a,{capture:!0}),document.removeEventListener("pointermove",a,{capture:!0})}},[]),(0,r.jsx)(Y.Root,{...c,children:(0,r.jsx)(eL,{scope:a,open:t,onOpenChange:m,content:d,onContentChange:p,children:(0,r.jsx)(eU,{scope:a,onClose:o.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:n,children:l})})})};eD.displayName=ek;var eV=o.forwardRef((e,a)=>{let{__scopeMenu:t,...l}=e,s=eA(t);return(0,r.jsx)(Y.Anchor,{...s,...l,ref:a})});eV.displayName="MenuAnchor";var ez="MenuPortal",[eF,e$]=eP(ez,{forceMount:void 0}),eH=e=>{let{__scopeMenu:a,forceMount:t,children:l,container:s}=e,o=eI(ez,a);return(0,r.jsx)(eF,{scope:a,forceMount:t,children:(0,r.jsx)(Q.Presence,{present:t||o.open,children:(0,r.jsx)(Z.Portal,{asChild:!0,container:s,children:l})})})};eH.displayName=ez;var eK="MenuContent",[eq,eB]=eP(eK),eG=o.forwardRef((e,a)=>{let t=e$(eK,e.__scopeMenu),{forceMount:l=t.forceMount,...s}=e,o=eI(eK,e.__scopeMenu),i=eO(eK,e.__scopeMenu);return(0,r.jsx)(eE.Provider,{scope:e.__scopeMenu,children:(0,r.jsx)(Q.Presence,{present:l||o.open,children:(0,r.jsx)(eE.Slot,{scope:e.__scopeMenu,children:i.modal?(0,r.jsx)(eJ,{...s,ref:a}):(0,r.jsx)(eW,{...s,ref:a})})})})}),eJ=o.forwardRef((e,a)=>{let t=eI(eK,e.__scopeMenu),l=o.useRef(null),s=(0,L.useComposedRefs)(a,l);return o.useEffect(()=>{let e=l.current;if(e)return(0,ej.hideOthers)(e)},[]),(0,r.jsx)(eY,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:(0,S.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),eW=o.forwardRef((e,a)=>{let t=eI(eK,e.__scopeMenu);return(0,r.jsx)(eY,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),eX=((s=o.forwardRef((e,a)=>{let{children:t,...l}=e;if(o.isValidElement(t)){var s;let e,r,i=(s=t,(r=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(r=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),n=function(e,a){let t={...a};for(let l in a){let s=e[l],r=a[l];/^on[A-Z]/.test(l)?s&&r?t[l]=(...e)=>{let a=r(...e);return s(...e),a}:s&&(t[l]=s):"style"===l?t[l]={...s,...r}:"className"===l&&(t[l]=[s,r].filter(Boolean).join(" "))}return{...e,...t}}(l,t.props);return t.type!==o.Fragment&&(n.ref=a?(0,L.composeRefs)(a,i):i),o.cloneElement(t,n)}return o.Children.count(t)>1?o.Children.only(null):null})).displayName="MenuContent.ScrollLock.SlotClone",t=s,(l=o.forwardRef((e,a)=>{let{children:l,...s}=e,i=o.Children.toArray(l),n=i.find(ef);if(n){let e=n.props.children,l=i.map(a=>a!==n?a:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...s,ref:a,children:o.isValidElement(e)?o.cloneElement(e,void 0,l):null})}return(0,r.jsx)(t,{...s,ref:a,children:l})})).displayName="MenuContent.ScrollLock.Slot",l),eY=o.forwardRef((e,a)=>{let{__scopeMenu:t,loop:l=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:n,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:x,disableOutsideScroll:g,...v}=e,f=eI(eK,t),j=eO(eK,t),b=eA(t),y=eS(t),N=eR(t),[_,w]=o.useState(null),C=o.useRef(null),k=(0,L.useComposedRefs)(a,C,f.onContentChange),E=o.useRef(0),R=o.useRef(""),T=o.useRef(0),P=o.useRef(null),M=o.useRef("right"),A=o.useRef(0),I=g?eb.RemoveScroll:o.Fragment;o.useEffect(()=>()=>window.clearTimeout(E.current),[]),(0,J.useFocusGuards)();let U=o.useCallback(e=>{var a,t;return M.current===P.current?.side&&(a=e,!!(t=P.current?.area)&&function(e,a){let{x:t,y:l}=e,s=!1;for(let e=0,r=a.length-1;e<a.length;r=e++){let o=a[e],i=a[r],n=o.x,c=o.y,d=i.x,p=i.y;c>l!=p>l&&t<(d-n)*(l-c)/(p-c)+n&&(s=!s)}return s}({x:a.clientX,y:a.clientY},t))},[]);return(0,r.jsx)(eq,{scope:t,searchRef:R,onItemEnter:o.useCallback(e=>{U(e)&&e.preventDefault()},[U]),onItemLeave:o.useCallback(e=>{U(e)||(C.current?.focus(),w(null))},[U]),onTriggerLeave:o.useCallback(e=>{U(e)&&e.preventDefault()},[U]),pointerGraceTimerRef:T,onPointerGraceIntentChange:o.useCallback(e=>{P.current=e},[]),children:(0,r.jsx)(I,{...g?{as:eX,allowPinchZoom:!0}:void 0,children:(0,r.jsx)(W.FocusScope,{asChild:!0,trapped:s,onMountAutoFocus:(0,S.composeEventHandlers)(i,e=>{e.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:n,children:(0,r.jsx)(G.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:x,children:(0,r.jsx)(ep,{asChild:!0,...y,dir:j.dir,orientation:"vertical",loop:l,currentTabStopId:_,onCurrentTabStopIdChange:w,onEntryFocus:(0,S.composeEventHandlers)(d,e=>{j.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,r.jsx)(Y.Content,{role:"menu","aria-orientation":"vertical","data-state":am(f.open),"data-radix-menu-content":"",dir:j.dir,...b,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:(0,S.composeEventHandlers)(v.onKeyDown,e=>{let a=e.target.closest("[data-radix-menu-content]")===e.currentTarget,t=e.ctrlKey||e.altKey||e.metaKey,l=1===e.key.length;if(a){var s;let a,r,o,i,n,c;"Tab"===e.key&&e.preventDefault(),!t&&l&&(s=e.key,a=R.current+s,r=N().filter(e=>!e.disabled),o=document.activeElement,i=r.find(e=>e.ref.current===o)?.textValue,n=function(e,a,t){var l;let s=a.length>1&&Array.from(a).every(e=>e===a[0])?a[0]:a,r=t?e.indexOf(t):-1,o=(l=Math.max(r,0),e.map((a,t)=>e[(l+t)%e.length]));1===s.length&&(o=o.filter(e=>e!==t));let i=o.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return i!==t?i:void 0}(r.map(e=>e.textValue),a,i),c=r.find(e=>e.textValue===n)?.ref.current,function e(a){R.current=a,window.clearTimeout(E.current),""!==a&&(E.current=window.setTimeout(()=>e(""),1e3))}(a),c&&setTimeout(()=>c.focus()))}let r=C.current;if(e.target!==r||!e_.includes(e.key))return;e.preventDefault();let o=N().filter(e=>!e.disabled).map(e=>e.ref.current);eN.includes(e.key)&&o.reverse(),function(e){let a=document.activeElement;for(let t of e)if(t===a||(t.focus(),document.activeElement!==a))return}(o)}),onBlur:(0,S.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:(0,S.composeEventHandlers)(e.onPointerMove,ag(e=>{let a=e.target,t=A.current!==e.clientX;e.currentTarget.contains(a)&&t&&(M.current=e.clientX>A.current?"right":"left",A.current=e.clientX)}))})})})})})})});eG.displayName=eK;var eZ=o.forwardRef((e,a)=>{let{__scopeMenu:t,...l}=e;return(0,r.jsx)(O.Primitive.div,{role:"group",...l,ref:a})});eZ.displayName="MenuGroup";var eQ=o.forwardRef((e,a)=>{let{__scopeMenu:t,...l}=e;return(0,r.jsx)(O.Primitive.div,{...l,ref:a})});eQ.displayName="MenuLabel";var e0="MenuItem",e1="menu.itemSelect",e2=o.forwardRef((e,a)=>{let{disabled:t=!1,onSelect:l,...s}=e,i=o.useRef(null),n=eO(e0,e.__scopeMenu),c=eB(e0,e.__scopeMenu),d=(0,L.useComposedRefs)(a,i),p=o.useRef(!1);return(0,r.jsx)(e4,{...s,ref:d,disabled:t,onClick:(0,S.composeEventHandlers)(e.onClick,()=>{let e=i.current;if(!t&&e){let a=new CustomEvent(e1,{bubbles:!0,cancelable:!0});e.addEventListener(e1,e=>l?.(e),{once:!0}),(0,O.dispatchDiscreteCustomEvent)(e,a),a.defaultPrevented?p.current=!1:n.onClose()}}),onPointerDown:a=>{e.onPointerDown?.(a),p.current=!0},onPointerUp:(0,S.composeEventHandlers)(e.onPointerUp,e=>{p.current||e.currentTarget?.click()}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{let a=""!==c.searchRef.current;t||a&&" "===e.key||ey.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});e2.displayName=e0;var e4=o.forwardRef((e,a)=>{let{__scopeMenu:t,disabled:l=!1,textValue:s,...i}=e,n=eB(e0,t),c=eS(t),d=o.useRef(null),p=(0,L.useComposedRefs)(a,d),[u,m]=o.useState(!1),[h,x]=o.useState("");return o.useEffect(()=>{let e=d.current;e&&x((e.textContent??"").trim())},[i.children]),(0,r.jsx)(eE.ItemSlot,{scope:t,disabled:l,textValue:s??h,children:(0,r.jsx)(eh,{asChild:!0,...c,focusable:!l,children:(0,r.jsx)(O.Primitive.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...i,ref:p,onPointerMove:(0,S.composeEventHandlers)(e.onPointerMove,ag(e=>{l?n.onItemLeave(e):(n.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,S.composeEventHandlers)(e.onPointerLeave,ag(e=>n.onItemLeave(e))),onFocus:(0,S.composeEventHandlers)(e.onFocus,()=>m(!0)),onBlur:(0,S.composeEventHandlers)(e.onBlur,()=>m(!1))})})})}),e5=o.forwardRef((e,a)=>{let{checked:t=!1,onCheckedChange:l,...s}=e;return(0,r.jsx)(at,{scope:e.__scopeMenu,checked:t,children:(0,r.jsx)(e2,{role:"menuitemcheckbox","aria-checked":ah(t)?"mixed":t,...s,ref:a,"data-state":ax(t),onSelect:(0,S.composeEventHandlers)(s.onSelect,()=>l?.(!!ah(t)||!t),{checkForDefaultPrevented:!1})})})});e5.displayName="MenuCheckboxItem";var e3="MenuRadioGroup",[e6,e8]=eP(e3,{value:void 0,onValueChange:()=>{}}),e7=o.forwardRef((e,a)=>{let{value:t,onValueChange:l,...s}=e,o=(0,ee.useCallbackRef)(l);return(0,r.jsx)(e6,{scope:e.__scopeMenu,value:t,onValueChange:o,children:(0,r.jsx)(eZ,{...s,ref:a})})});e7.displayName=e3;var e9="MenuRadioItem",ae=o.forwardRef((e,a)=>{let{value:t,...l}=e,s=e8(e9,e.__scopeMenu),o=t===s.value;return(0,r.jsx)(at,{scope:e.__scopeMenu,checked:o,children:(0,r.jsx)(e2,{role:"menuitemradio","aria-checked":o,...l,ref:a,"data-state":ax(o),onSelect:(0,S.composeEventHandlers)(l.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});ae.displayName=e9;var aa="MenuItemIndicator",[at,al]=eP(aa,{checked:!1}),as=o.forwardRef((e,a)=>{let{__scopeMenu:t,forceMount:l,...s}=e,o=al(aa,t);return(0,r.jsx)(Q.Presence,{present:l||ah(o.checked)||!0===o.checked,children:(0,r.jsx)(O.Primitive.span,{...s,ref:a,"data-state":ax(o.checked)})})});as.displayName=aa;var ar=o.forwardRef((e,a)=>{let{__scopeMenu:t,...l}=e;return(0,r.jsx)(O.Primitive.div,{role:"separator","aria-orientation":"horizontal",...l,ref:a})});ar.displayName="MenuSeparator";var ao=o.forwardRef((e,a)=>{let{__scopeMenu:t,...l}=e,s=eA(t);return(0,r.jsx)(Y.Arrow,{...s,...l,ref:a})});ao.displayName="MenuArrow";var[ai,an]=eP("MenuSub"),ac="MenuSubTrigger",ad=o.forwardRef((e,a)=>{let t=eI(ac,e.__scopeMenu),l=eO(ac,e.__scopeMenu),s=an(ac,e.__scopeMenu),i=eB(ac,e.__scopeMenu),n=o.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,p={__scopeMenu:e.__scopeMenu},u=o.useCallback(()=>{n.current&&window.clearTimeout(n.current),n.current=null},[]);return o.useEffect(()=>u,[u]),o.useEffect(()=>{let e=c.current;return()=>{window.clearTimeout(e),d(null)}},[c,d]),(0,r.jsx)(eV,{asChild:!0,...p,children:(0,r.jsx)(e4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":am(t.open),...e,ref:(0,L.composeRefs)(a,s.onTriggerChange),onClick:a=>{e.onClick?.(a),e.disabled||a.defaultPrevented||(a.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:(0,S.composeEventHandlers)(e.onPointerMove,ag(a=>{i.onItemEnter(a),!a.defaultPrevented&&(e.disabled||t.open||n.current||(i.onPointerGraceIntentChange(null),n.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100)))})),onPointerLeave:(0,S.composeEventHandlers)(e.onPointerLeave,ag(e=>{u();let a=t.content?.getBoundingClientRect();if(a){let l=t.content?.dataset.side,s="right"===l,r=a[s?"left":"right"],o=a[s?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+(s?-5:5),y:e.clientY},{x:r,y:a.top},{x:o,y:a.top},{x:o,y:a.bottom},{x:r,y:a.bottom}],side:l}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,a=>{let s=""!==i.searchRef.current;e.disabled||s&&" "===a.key||ew[l.dir].includes(a.key)&&(t.onOpenChange(!0),t.content?.focus(),a.preventDefault())})})})});ad.displayName=ac;var ap="MenuSubContent",au=o.forwardRef((e,a)=>{let t=e$(eK,e.__scopeMenu),{forceMount:l=t.forceMount,...s}=e,i=eI(eK,e.__scopeMenu),n=eO(eK,e.__scopeMenu),c=an(ap,e.__scopeMenu),d=o.useRef(null),p=(0,L.useComposedRefs)(a,d);return(0,r.jsx)(eE.Provider,{scope:e.__scopeMenu,children:(0,r.jsx)(Q.Presence,{present:l||i.open,children:(0,r.jsx)(eE.Slot,{scope:e.__scopeMenu,children:(0,r.jsx)(eY,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:p,align:"start",side:"rtl"===n.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{n.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,S.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:(0,S.composeEventHandlers)(e.onEscapeKeyDown,e=>{n.onClose(),e.preventDefault()}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{let a=e.currentTarget.contains(e.target),t=eC[n.dir].includes(e.key);a&&t&&(i.onOpenChange(!1),c.trigger?.focus(),e.preventDefault())})})})})})});function am(e){return e?"open":"closed"}function ah(e){return"indeterminate"===e}function ax(e){return ah(e)?"indeterminate":e?"checked":"unchecked"}function ag(e){return a=>"mouse"===a.pointerType?e(a):void 0}au.displayName=ap;var av="DropdownMenu",[af,aj]=(0,I.createContextScope)(av,[eM]),ab=eM(),[ay,aN]=af(av),a_=e=>{let{__scopeDropdownMenu:a,children:t,dir:l,open:s,defaultOpen:i,onOpenChange:n,modal:c=!0}=e,d=ab(a),p=o.useRef(null),[u,m]=(0,U.useControllableState)({prop:s,defaultProp:i??!1,onChange:n,caller:av});return(0,r.jsx)(ay,{scope:a,triggerId:(0,X.useId)(),triggerRef:p,contentId:(0,X.useId)(),open:u,onOpenChange:m,onOpenToggle:o.useCallback(()=>m(e=>!e),[m]),modal:c,children:(0,r.jsx)(eD,{...d,open:u,onOpenChange:m,dir:l,modal:c,children:t})})};a_.displayName=av;var aw="DropdownMenuTrigger",aC=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,disabled:l=!1,...s}=e,o=aN(aw,t),i=ab(t);return(0,r.jsx)(eV,{asChild:!0,...i,children:(0,r.jsx)(O.Primitive.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":l?"":void 0,disabled:l,...s,ref:(0,L.composeRefs)(a,o.triggerRef),onPointerDown:(0,S.composeEventHandlers)(e.onPointerDown,e=>{!l&&0===e.button&&!1===e.ctrlKey&&(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{!l&&(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});aC.displayName=aw;var ak=e=>{let{__scopeDropdownMenu:a,...t}=e,l=ab(a);return(0,r.jsx)(eH,{...l,...t})};ak.displayName="DropdownMenuPortal";var aE="DropdownMenuContent",aR=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=aN(aE,t),i=ab(t),n=o.useRef(!1);return(0,r.jsx)(eG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...l,ref:a,onCloseAutoFocus:(0,S.composeEventHandlers)(e.onCloseAutoFocus,e=>{n.current||s.triggerRef.current?.focus(),n.current=!1,e.preventDefault()}),onInteractOutside:(0,S.composeEventHandlers)(e.onInteractOutside,e=>{let a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey,l=2===a.button||t;(!s.modal||l)&&(n.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aR.displayName=aE,o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(eZ,{...s,...l,ref:a})}).displayName="DropdownMenuGroup";var aT=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(eQ,{...s,...l,ref:a})});aT.displayName="DropdownMenuLabel";var aP=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(e2,{...s,...l,ref:a})});aP.displayName="DropdownMenuItem";var aM=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(e5,{...s,...l,ref:a})});aM.displayName="DropdownMenuCheckboxItem",o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(e7,{...s,...l,ref:a})}).displayName="DropdownMenuRadioGroup";var aA=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(ae,{...s,...l,ref:a})});aA.displayName="DropdownMenuRadioItem";var aS=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(as,{...s,...l,ref:a})});aS.displayName="DropdownMenuItemIndicator";var aL=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(ar,{...s,...l,ref:a})});aL.displayName="DropdownMenuSeparator",o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(ao,{...s,...l,ref:a})}).displayName="DropdownMenuArrow";var aI=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(ad,{...s,...l,ref:a})});aI.displayName="DropdownMenuSubTrigger";var aU=o.forwardRef((e,a)=>{let{__scopeDropdownMenu:t,...l}=e,s=ab(t);return(0,r.jsx)(au,{...s,...l,ref:a,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aU.displayName="DropdownMenuSubContent";var aO=e.i(43531);let aD=(0,x.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),aV=(0,x.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var az=e.i(75157);o.forwardRef(({className:e,inset:a,children:t,...l},s)=>(0,r.jsxs)(aI,{ref:s,className:(0,az.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...l,children:[t,(0,r.jsx)(aD,{className:"ml-auto"})]})).displayName=aI.displayName,o.forwardRef(({className:e,...a},t)=>(0,r.jsx)(aU,{ref:t,className:(0,az.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=aU.displayName;let aF=o.forwardRef(({className:e,sideOffset:a=4,...t},l)=>(0,r.jsx)(ak,{children:(0,r.jsx)(aR,{ref:l,sideOffset:a,className:(0,az.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));aF.displayName=aR.displayName;let a$=o.forwardRef(({className:e,inset:a,...t},l)=>(0,r.jsx)(aP,{ref:l,className:(0,az.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...t}));a$.displayName=aP.displayName,o.forwardRef(({className:e,children:a,checked:t,...l},s)=>(0,r.jsxs)(aM,{ref:s,className:(0,az.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(aS,{children:(0,r.jsx)(aO.Check,{className:"h-4 w-4"})})}),a]})).displayName=aM.displayName,o.forwardRef(({className:e,children:a,...t},l)=>(0,r.jsxs)(aA,{ref:l,className:(0,az.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(aS,{children:(0,r.jsx)(aV,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=aA.displayName;let aH=o.forwardRef(({className:e,inset:a,...t},l)=>(0,r.jsx)(aT,{ref:l,className:(0,az.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...t}));aH.displayName=aT.displayName;let aK=o.forwardRef(({className:e,...a},t)=>(0,r.jsx)(aL,{ref:t,className:(0,az.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));aK.displayName=aL.displayName;var aq=e.i(14565),aB=e.i(86188),aG=e.i(25063);let aJ=(0,x.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var T=T;let aW=e=>e.split(/[\s,]+/).map(e=>e.trim()).filter(Boolean),aX="w-full rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",aY="text-[11px] uppercase tracking-[0.15em] text-slate-400";function aZ({label:e,value:a,onChange:t}){let l="video"===a.kind,s=a.previewUrl||a.src;return(0,r.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[(0,r.jsx)("p",{className:aY,children:e}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Tipo"}),(0,r.jsxs)("select",{className:aX,value:a.kind||"image",onChange:e=>t({...a,kind:"video"===e.target.value?"video":"image"}),children:[(0,r.jsx)("option",{value:"image",children:"Imagem"}),(0,r.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Upload"}),(0,r.jsx)("input",{className:`${aX} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:l?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&t({...a,file:l,previewUrl:URL.createObjectURL(l)})}})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"URL / Caminho"}),(0,r.jsx)("input",{className:aX,placeholder:l?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:a.src||"",onChange:e=>t({...a,src:e.target.value,file:null,previewUrl:""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Texto alternativo"}),(0,r.jsx)("input",{className:aX,value:a.alt||"",onChange:e=>t({...a,alt:e.target.value})})]}),l?(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Poster (opcional)"}),(0,r.jsx)("input",{className:aX,placeholder:"landing-pages/meu-projeto/poster.webp",value:a.poster||"",onChange:e=>t({...a,poster:e.target.value})})]}):null,s?(0,r.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/40",children:l?(0,r.jsx)("video",{src:s,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,r.jsx)("img",{src:s,alt:a.alt||"Pré-visualização",className:"h-56 w-full object-cover"})}):null]})}function aQ({value:e,onChange:a}){let t=t=>{a({...e,...t})},l=(a,l)=>{t({gallery_grid:e.gallery_grid.map(e=>e.id===a?{...e,...l}:e)})},s=(a,l)=>{let s="up"===l?a-1:a+1;if(s<0||s>=e.gallery_grid.length)return;let r=[...e.gallery_grid];[r[a],r[s]]=[r[s],r[a]],t({gallery_grid:r})};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Título do projeto"}),(0,r.jsx)("input",{className:aX,value:e.project_title,onChange:e=>t({project_title:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Subtítulo"}),(0,r.jsx)("input",{className:aX,value:e.project_subtitle||"",onChange:e=>t({project_subtitle:e.target.value||""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Slug do projeto"}),(0,r.jsx)("input",{className:aX,value:e.project_slug,onChange:e=>t({project_slug:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Cor de destaque"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.highlight_color||"#0048ff",onChange:e=>t({highlight_color:e.target.value}),title:"Cor de destaque"}),(0,r.jsx)("input",{className:aX,value:e.highlight_color||"#0048ff",onChange:e=>t({highlight_color:e.target.value||"#0048ff"})})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Cliente"}),(0,r.jsx)("input",{className:aX,value:e.project_client||"",onChange:e=>t({project_client:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Ano"}),(0,r.jsx)("input",{className:aX,type:"number",value:e.project_year||"",onChange:e=>t({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Tags (separadas por espaço ou vírgula)"}),(0,r.jsx)("input",{className:aX,value:e.project_tags.join(", "),onChange:e=>t({project_tags:aW(e.target.value)})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Serviços (separados por vírgula)"}),(0,r.jsx)("input",{className:aX,value:(e.project_services||[]).join(", "),onChange:e=>t({project_services:aW(e.target.value)})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Resumo do projeto"}),(0,r.jsx)("textarea",{className:`${aX} min-h-28`,value:e.project_summary||"",onChange:e=>t({project_summary:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Headline da intro"}),(0,r.jsx)("input",{className:aX,value:e.intro_headline||"",onChange:e=>t({intro_headline:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Parágrafos da intro (1 por linha)"}),(0,r.jsx)("textarea",{className:`${aX} min-h-32`,value:(e.intro_body||[]).join("\n"),onChange:e=>t({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})}),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero"}),(0,r.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,r.jsx)(aZ,{label:"Hero Cover",value:e.hero_cover_image,onChange:e=>t({hero_cover_image:e})}),(0,r.jsx)(aZ,{label:"Logo Hero (opcional)",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>t({hero_logo_image:e})})]})]}),(0,r.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navegação e SEO"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Texto botão voltar"}),(0,r.jsx)("input",{className:aX,value:e.navigation?.back_label||"",onChange:a=>t({navigation:{...e.navigation,back_label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Texto próximo projeto"}),(0,r.jsx)("input",{className:aX,value:e.navigation?.next_label||"",onChange:a=>t({navigation:{...e.navigation,next_label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Slug próximo projeto"}),(0,r.jsx)("input",{className:aX,value:e.navigation?.next_project_slug||"",onChange:a=>t({navigation:{...e.navigation,next_project_slug:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"CTA"}),(0,r.jsx)("input",{className:aX,value:e.cta?.label||"",onChange:a=>t({cta:{...e.cta,label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Link CTA"}),(0,r.jsx)("input",{className:aX,value:e.cta?.href||"",onChange:a=>t({cta:{...e.cta,href:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"SEO descrição"}),(0,r.jsx)("textarea",{className:`${aX} min-h-24`,value:e.seo?.description||"",onChange:a=>t({seo:{...e.seo,description:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"SEO og:image"}),(0,r.jsx)("input",{className:aX,value:e.seo?.og_image||"",onChange:a=>t({seo:{...e.seo,og_image:a.target.value}})})]})]})]}),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Gallery Grid"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let a;return t({gallery_grid:[...e.gallery_grid,(a=e.gallery_grid.length,{id:`grid-item-${a+1}`,kind:"image",layout:"grid",src:"",alt:"",title:"",eyebrow:"",description:"",quote:""})]})},className:"inline-flex min-h-11 items-center gap-2 rounded-full bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,r.jsx)(b.Plus,{size:14}),"Adicionar item"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,r.jsx)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum item na galeria. Adicione o primeiro bloco de mídia."}):null,e.gallery_grid.map((a,o)=>{let i=a.previewUrl||a.src;return(0,r.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Item ",o+1]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s(o,"up"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,r.jsx)(aJ,{size:14})}),(0,r.jsx)("button",{type:"button",onClick:()=>s(o,"down"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,r.jsx)(aG.ArrowDown,{size:14})}),(0,r.jsx)("button",{type:"button",onClick:()=>{var l;return l=a.id,void t({gallery_grid:e.gallery_grid.filter(e=>e.id!==l)})},className:"rounded-md border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover item",children:(0,r.jsx)(h.Trash2,{size:14})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Layout"}),(0,r.jsxs)("select",{className:aX,value:a.layout,onChange:e=>l(a.id,{layout:e.target.value}),children:[(0,r.jsx)("option",{value:"grid",children:"Grid"}),(0,r.jsx)("option",{value:"full-highlight",children:"Full Highlight"}),(0,r.jsx)("option",{value:"full",children:"Full Width"}),(0,r.jsx)("option",{value:"feature",children:"Feature Banner"}),(0,r.jsx)("option",{value:"quote-band",children:"Quote Band"}),(0,r.jsx)("option",{value:"split-left",children:"Split Left"}),(0,r.jsx)("option",{value:"split-right",children:"Split Right"})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Tipo de mídia"}),(0,r.jsxs)("select",{className:aX,value:a.kind,onChange:e=>l(a.id,{kind:"video"===e.target.value?"video":"image"}),children:[(0,r.jsx)("option",{value:"image",children:"Imagem"}),(0,r.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"URL / Caminho"}),(0,r.jsx)("input",{className:aX,value:a.src,onChange:e=>l(a.id,{src:e.target.value,file:null,previewUrl:""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Upload"}),(0,r.jsx)("input",{type:"file",className:`${aX} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:"video"===a.kind?"video/*":"image/*",onChange:e=>{let t=e.target.files?.[0];t&&l(a.id,{file:t,previewUrl:URL.createObjectURL(t)})}})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Poster (vídeo)"}),(0,r.jsx)("input",{className:aX,value:a.poster||"",onChange:e=>l(a.id,{poster:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Alt"}),(0,r.jsx)("input",{className:aX,value:a.alt,onChange:e=>l(a.id,{alt:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Eyebrow"}),(0,r.jsx)("input",{className:aX,value:a.eyebrow||"",onChange:e=>l(a.id,{eyebrow:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:aY,children:"Título"}),(0,r.jsx)("input",{className:aX,value:a.title||"",onChange:e=>l(a.id,{title:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Descrição"}),(0,r.jsx)("textarea",{className:`${aX} min-h-24`,value:a.description||"",onChange:e=>l(a.id,{description:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:aY,children:"Quote (quote band)"}),(0,r.jsx)("input",{className:aX,value:a.quote||"",onChange:e=>l(a.id,{quote:e.target.value})})]})]}),i?(0,r.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/50",children:"video"===a.kind?(0,r.jsx)("video",{src:i,className:"h-48 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,r.jsx)("img",{src:i,alt:a.alt||"Preview",className:"h-48 w-full object-cover"})}):(0,r.jsxs)("div",{className:"flex h-24 items-center justify-center rounded-xl border border-dashed border-white/10 text-xs text-slate-500",children:["video"===a.kind?(0,r.jsx)(w,{className:"mr-2 h-4 w-4"}):(0,r.jsx)(T.default,{className:"mr-2 h-4 w-4"}),"Sem pré-visualização"]})]},a.id)})]})]})]})}var T=T;let a0=e=>e.split(/[\s,]+/).map(e=>e.trim()).filter(Boolean),a1="w-full rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",a2="text-[11px] uppercase tracking-[0.15em] text-slate-400";function a4({label:e,value:a,onChange:t}){let l="video"===a.kind,s=a.previewUrl||a.src,o=!l&&!a.alt?.trim();return(0,r.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[(0,r.jsx)("p",{className:a2,children:e}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Tipo"}),(0,r.jsxs)("select",{className:a1,value:a.kind||"image",onChange:e=>t({...a,kind:"video"===e.target.value?"video":"image"}),children:[(0,r.jsx)("option",{value:"image",children:"Imagem"}),(0,r.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Upload"}),(0,r.jsx)("input",{className:`${a1} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:l?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&t({...a,file:l,previewUrl:URL.createObjectURL(l)})}})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"URL / Caminho"}),(0,r.jsx)("input",{className:a1,placeholder:l?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:a.src||"",onChange:e=>t({...a,src:e.target.value,file:null,previewUrl:""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Texto alternativo (obrigatório para imagem)"}),(0,r.jsx)("input",{className:a1,value:a.alt||"",onChange:e=>t({...a,alt:e.target.value})})]}),o?(0,r.jsx)("p",{className:"text-xs text-red-300",children:"Alt text obrigatório para mídia de imagem."}):null,l?(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Poster (opcional)"}),(0,r.jsx)("input",{className:a1,placeholder:"landing-pages/meu-projeto/poster.webp",value:a.poster||"",onChange:e=>t({...a,poster:e.target.value})})]}):null,s?(0,r.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/40",children:l?(0,r.jsx)("video",{src:s,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,r.jsx)("img",{src:s,alt:a.alt||"Pré-visualização",className:"h-56 w-full object-cover"})}):null]})}function a5({value:e,onChange:a}){let t=t=>{a({...e,...t})},l=(a,l)=>{t({gallery_grid:e.gallery_grid.map(e=>e.id===a?{...e,...l}:e)})},s=(a,l)=>{let s="up"===l?a-1:a+1;if(s<0||s>=e.gallery_grid.length)return;let r=[...e.gallery_grid];[r[a],r[s]]=[r[s],r[a]],t({gallery_grid:r})};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Base da Página (V2)"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Título do projeto"}),(0,r.jsx)("input",{className:a1,value:e.project_title,onChange:e=>t({project_title:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Subtítulo"}),(0,r.jsx)("input",{className:a1,value:e.project_subtitle||"",onChange:e=>t({project_subtitle:e.target.value||""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Slug do projeto"}),(0,r.jsx)("input",{className:a1,value:e.project_slug,onChange:e=>t({project_slug:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Cor de destaque"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.highlight_color||"#0048ff",onChange:e=>t({highlight_color:e.target.value}),title:"Cor de destaque"}),(0,r.jsx)("input",{className:a1,value:e.highlight_color||"#0048ff",onChange:e=>t({highlight_color:e.target.value||"#0048ff"})})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Cor do tema (Liquid Ether)"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.theme_color||"#0048ff",onChange:e=>t({theme_color:e.target.value}),title:"Cor do tema"}),(0,r.jsx)("input",{className:a1,value:e.theme_color||"#0048ff",onChange:e=>t({theme_color:e.target.value||"#0048ff"})})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Cliente"}),(0,r.jsx)("input",{className:a1,value:e.project_client||"",onChange:e=>t({project_client:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Ano"}),(0,r.jsx)("input",{className:a1,type:"number",value:e.project_year||"",onChange:e=>t({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Tags (separadas por espaço ou vírgula)"}),(0,r.jsx)("input",{className:a1,value:e.project_tags.join(", "),onChange:e=>t({project_tags:a0(e.target.value)})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Serviços (separados por espaço ou vírgula)"}),(0,r.jsx)("input",{className:a1,value:(e.project_services||[]).join(", "),onChange:e=>t({project_services:a0(e.target.value)})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Resumo"}),(0,r.jsx)("textarea",{className:`${a1} min-h-28`,value:e.project_summary||"",onChange:e=>t({project_summary:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Headline da intro"}),(0,r.jsx)("input",{className:a1,value:e.intro_headline||"",onChange:e=>t({intro_headline:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Parágrafos da introdução (1 por linha)"}),(0,r.jsx)("textarea",{className:`${a1} min-h-32`,value:(e.intro_body||[]).join("\n"),onChange:e=>t({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})]}),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero"}),(0,r.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,r.jsx)(a4,{label:"Capa da Hero",value:e.hero_cover_image,onChange:e=>t({hero_cover_image:e})}),(0,r.jsx)(a4,{label:"Logo Hero (opcional)",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>t({hero_logo_image:e})})]})]}),(0,r.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navegação e SEO"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Texto botão voltar"}),(0,r.jsx)("input",{className:a1,value:e.navigation?.back_label||"",onChange:a=>t({navigation:{...e.navigation,back_label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Texto próximo projeto"}),(0,r.jsx)("input",{className:a1,value:e.navigation?.next_label||"",onChange:a=>t({navigation:{...e.navigation,next_label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Slug próximo projeto"}),(0,r.jsx)("input",{className:a1,value:e.navigation?.next_project_slug||"",onChange:a=>t({navigation:{...e.navigation,next_project_slug:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"CTA"}),(0,r.jsx)("input",{className:a1,value:e.cta?.label||"",onChange:a=>t({cta:{...e.cta,label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Link CTA"}),(0,r.jsx)("input",{className:a1,value:e.cta?.href||"",onChange:a=>t({cta:{...e.cta,href:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"SEO descrição"}),(0,r.jsx)("textarea",{className:`${a1} min-h-24`,value:e.seo?.description||"",onChange:a=>t({seo:{...e.seo,description:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"SEO og:image"}),(0,r.jsx)("input",{className:a1,value:e.seo?.og_image||"",onChange:a=>t({seo:{...e.seo,og_image:a.target.value}})})]})]})]}),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Conteúdo Dinâmico (gallery_grid)"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let a;return t({gallery_grid:[...e.gallery_grid,(a=e.gallery_grid.length,{id:`grid-item-${a+1}`,kind:"image",layout_type:"grid_2_col",media_align:"left",src:"",alt:"",title:"",eyebrow:"",description:"",quote:"",features:[]})]})},className:"inline-flex min-h-11 items-center gap-2 rounded-full bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,r.jsx)(b.Plus,{size:14}),"Adicionar bloco"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,r.jsx)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum bloco no gallery_grid. Adicione o primeiro bloco."}):null,e.gallery_grid.map((a,o)=>{let i=a.previewUrl||a.src,n="video"!==a.kind&&!a.alt?.trim(),c="grid_quote"===a.layout_type,d="grid_split"===a.layout_type,p="grid_features_3"===a.layout_type;return(0,r.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Bloco ",o+1]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>s(o,"up"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,r.jsx)(aJ,{size:14})}),(0,r.jsx)("button",{type:"button",onClick:()=>s(o,"down"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,r.jsx)(aG.ArrowDown,{size:14})}),(0,r.jsx)("button",{type:"button",onClick:()=>{var l;return l=a.id,void t({gallery_grid:e.gallery_grid.filter(e=>e.id!==l)})},className:"rounded-md border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover bloco",children:(0,r.jsx)(h.Trash2,{size:14})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Tipo de layout"}),(0,r.jsxs)("select",{className:a1,value:a.layout_type,onChange:e=>l(a.id,{layout_type:e.target.value}),children:[(0,r.jsx)("option",{value:"grid_2_col",children:"Grid 2 colunas"}),(0,r.jsx)("option",{value:"grid_1_col",children:"Grid 1 coluna"}),(0,r.jsx)("option",{value:"grid_feat",children:"Full Highlight"}),(0,r.jsx)("option",{value:"grid_features_3",children:"Destaques 3"}),(0,r.jsx)("option",{value:"grid_quote",children:"Citação"}),(0,r.jsx)("option",{value:"grid_split",children:"Split"})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Tipo de mídia"}),(0,r.jsxs)("select",{className:a1,value:a.kind,onChange:e=>l(a.id,{kind:"video"===e.target.value?"video":"image"}),children:[(0,r.jsx)("option",{value:"image",children:"Imagem"}),(0,r.jsx)("option",{value:"video",children:"Vídeo"})]})]}),d?(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Posição da mídia"}),(0,r.jsxs)("select",{className:a1,value:a.media_align||"left",onChange:e=>l(a.id,{media_align:"right"===e.target.value?"right":"left"}),children:[(0,r.jsx)("option",{value:"left",children:"Esquerda"}),(0,r.jsx)("option",{value:"right",children:"Direita"})]})]}):null,c?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"URL / Caminho"}),(0,r.jsx)("input",{className:a1,value:a.src,onChange:e=>l(a.id,{src:e.target.value,file:null,previewUrl:""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Upload"}),(0,r.jsx)("input",{type:"file",className:`${a1} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:"video"===a.kind?"video/*":"image/*",onChange:e=>{let t=e.target.files?.[0];t&&l(a.id,{file:t,previewUrl:URL.createObjectURL(t)})}})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Poster (vídeo)"}),(0,r.jsx)("input",{className:a1,value:a.poster||"",onChange:e=>l(a.id,{poster:e.target.value})})]})]}),"video"!==a.kind?(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Alt (obrigatório)"}),(0,r.jsx)("input",{className:a1,value:a.alt,onChange:e=>l(a.id,{alt:e.target.value})})]}):null,n?(0,r.jsx)("p",{className:"md:col-span-2 text-xs text-red-300",children:"Alt text obrigatório para blocos de imagem."}):null,(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Sobretítulo"}),(0,r.jsx)("input",{className:a1,value:a.eyebrow||"",onChange:e=>l(a.id,{eyebrow:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a2,children:"Título"}),(0,r.jsx)("input",{className:a1,value:a.title||"",onChange:e=>l(a.id,{title:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Descrição"}),(0,r.jsx)("textarea",{className:`${a1} min-h-24`,value:a.description||"",onChange:e=>l(a.id,{description:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Citação"}),(0,r.jsx)("input",{className:a1,value:a.quote||"",onChange:e=>l(a.id,{quote:e.target.value})})]}),p?(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a2,children:"Destaques (1 por linha: título | descrição)"}),(0,r.jsx)("textarea",{className:`${a1} min-h-24`,value:(a.features??[]).map(e=>`${e.title}${e.description?` | ${e.description}`:""}`).join("\n"),onChange:e=>l(a.id,{features:e.target.value.split("\n").reduce((e,a,t)=>{let[l,s]=a.split("|"),r=l?.trim();return r&&e.push({id:`feature-${t+1}`,title:r,description:s?.trim()||void 0}),e},[])})})]}):null]}),i?(0,r.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/50",children:"video"===a.kind?(0,r.jsx)("video",{src:i,className:"h-48 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,r.jsx)("img",{src:i,alt:a.alt||"Pré-visualização",className:"h-48 w-full object-cover"})}):(0,r.jsxs)("div",{className:"flex h-24 items-center justify-center rounded-xl border border-dashed border-white/10 text-xs text-slate-500",children:["video"===a.kind?(0,r.jsx)(w,{className:"mr-2 h-4 w-4"}):(0,r.jsx)(T.default,{className:"mr-2 h-4 w-4"}),"Sem pré-visualização"]})]},a.id)})]})]})]})}var T=T;let a3=(0,x.default)("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),a6=/(youtu\.be\/|youtube\.com\/watch\?v=|youtube\.com\/embed\/|youtube\.com\/shorts\/)/i,a8="w-full border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",a7="text-[11px] uppercase tracking-[0.15em] text-slate-400",a9={text:"Texto Puro",image:"Imagem Full",video:"Vídeo Full","video-autoplay":"Vídeo Autoplay (Loop)","image-text":"Imagem + Texto","text-image":"Texto + Imagem","image-image":"Imagem Dupla (Grid)","image-video":"Imagem + Vídeo","video-text":"Vídeo + Texto","quote-band":"Faixa de Citação (Full)"},te=[{type:"text",label:"Texto Puro",icon:_},{type:"image",label:"Imagem Full",icon:T.default},{type:"video",label:"Vídeo Full",icon:w},{type:"video-autoplay",label:"Vídeo Autoplay (Loop)",icon:w},{type:"quote-band",label:"Faixa de Citação (Full)",icon:a3}],ta=[{type:"image-text",label:"Imagem + Texto",icon:T.default},{type:"text-image",label:"Texto + Imagem",icon:_},{type:"image-image",label:"Imagem Dupla (Grid)",icon:C},{type:"image-video",label:"Imagem + Vídeo",icon:T.default},{type:"video-text",label:"Vídeo + Texto",icon:w}];function tt({label:e,value:a,onChange:t,requireAlt:l=!1}){let s="video"===a.kind,o=a.previewUrl||a.src,i=l&&!s&&!a.alt?.trim();return(0,r.jsxs)("div",{className:"space-y-3 border border-white/10 bg-slate-950/30 p-4",children:[(0,r.jsx)("p",{className:a7,children:e}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Tipo"}),(0,r.jsxs)("select",{className:a8,value:a.kind||"image",onChange:e=>t({...a,kind:"video"===e.target.value?"video":"image"}),children:[(0,r.jsx)("option",{value:"image",children:"Imagem"}),(0,r.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Upload"}),(0,r.jsx)("input",{className:`${a8} file:mr-3 file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:s?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&t({...a,file:l,previewUrl:URL.createObjectURL(l)})}})]})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"URL / Caminho"}),(0,r.jsx)("input",{className:a8,placeholder:s?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:a.src||"",onChange:e=>t({...a,src:e.target.value,file:null,previewUrl:""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Texto alternativo"}),(0,r.jsx)("input",{className:a8,value:a.alt||"",onChange:e=>t({...a,alt:e.target.value})})]}),i?(0,r.jsx)("p",{className:"text-xs text-red-300",children:"Alt text obrigatório para imagem."}):null,s?(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Poster (opcional)"}),(0,r.jsx)("input",{className:a8,value:a.poster||"",onChange:e=>t({...a,poster:e.target.value})})]}):null,o?(0,r.jsx)("div",{className:"overflow-hidden border border-white/10 bg-black/40",children:s?(0,r.jsx)("video",{src:o,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,r.jsx)("img",{src:o,alt:a.alt||"Pré-visualização",className:"h-56 w-full object-cover"})}):null]})}function tl({block:e,mediaKey:a,altKey:t,posterKey:l,fileKey:s,previewKey:o,label:i,kind:n,onChange:c}){var d;let p=(d=e.content[a],"video"===n||!!(d&&a6.test(d))),u=e[o]||e.content[a],m=!p&&!e.content[t]?.trim();return(0,r.jsxs)("div",{className:"space-y-2 border border-white/10 bg-slate-950/30 p-4",children:[(0,r.jsx)("p",{className:a7,children:i}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"URL / Caminho"}),(0,r.jsx)("input",{className:a8,value:e.content[a]||"",onChange:t=>c({...e,[s]:null,[o]:"",content:{...e.content,[a]:t.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Upload"}),(0,r.jsx)("input",{type:"file",className:`${a8} file:mr-3 file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:p?"video/*":"image/*",onChange:a=>{let t=a.target.files?.[0];t&&c({...e,[s]:t,[o]:URL.createObjectURL(t)})}})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Alt text (imagem)"}),(0,r.jsx)("input",{className:a8,value:e.content[t]||"",onChange:a=>c({...e,content:{...e.content,[t]:a.target.value}})})]}),m?(0,r.jsx)("p",{className:"text-xs text-red-300",children:"Alt text obrigatório para imagens."}):null,p?(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Poster (vídeo)"}),(0,r.jsx)("input",{className:a8,value:e.content[l]||"",onChange:a=>c({...e,content:{...e.content,[l]:a.target.value}})})]}):null,u?(0,r.jsx)("div",{className:"overflow-hidden border border-white/10 bg-black/40",children:p?(0,r.jsx)("video",{src:u,className:"h-44 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,r.jsx)("img",{src:u,alt:"Preview",className:"h-44 w-full object-cover"})}):null]})}function ts({value:e,onChange:a}){let t=t=>{a({...e,...t})},l=(a,l)=>{let s="up"===l?a-1:a+1;if(s<0||s>=e.gallery_grid.length)return;let r=[...e.gallery_grid];[r[a],r[s]]=[r[s],r[a]],t({gallery_grid:r})},s=a=>{let l;t({gallery_grid:[...e.gallery_grid,(l=e.gallery_grid.length,{id:`block-${a}-${l+1}`,type:a,content:{text:"",text2:"",media:"",media2:"",alt:"",alt2:"",poster:"",poster2:"",autoplay:"video-autoplay"===a,bandColor:"quote-band"===a?"#0048ff":void 0},file:null,file2:null,previewUrl:"",previewUrl2:""})]})};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("section",{className:"space-y-4 border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Base da Página (V3 ALPA)"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Título do projeto"}),(0,r.jsx)("input",{className:a8,value:e.project_title,onChange:e=>t({project_title:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Subtítulo"}),(0,r.jsx)("input",{className:a8,value:e.project_subtitle||"",onChange:e=>t({project_subtitle:e.target.value||""})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Slug do projeto"}),(0,r.jsx)("input",{className:a8,value:e.project_slug,onChange:e=>t({project_slug:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Cliente"}),(0,r.jsx)("input",{className:a8,value:e.project_client||"",onChange:e=>t({project_client:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Ano"}),(0,r.jsx)("input",{className:a8,type:"number",value:e.project_year||"",onChange:e=>t({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Cor do tema (ALPA + Liquid Ether)"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",className:"h-10 w-12 border border-white/10 bg-transparent",value:e.theme_color||"#0048ff",onChange:e=>t({theme_color:e.target.value}),title:"Cor do tema"}),(0,r.jsx)("input",{className:a8,value:e.theme_color||"#0048ff",onChange:e=>t({theme_color:e.target.value||"#0048ff"})})]})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Tags (separadas por espaço ou vírgula)"}),(0,r.jsx)("input",{className:a8,value:e.project_tags.join(", "),onChange:e=>t({project_tags:e.target.value.split(/[\s,]+/).map(e=>e.trim()).filter(Boolean)})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Resumo"}),(0,r.jsx)("textarea",{className:`${a8} min-h-24`,value:e.project_summary||"",onChange:e=>t({project_summary:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Headline da introdução"}),(0,r.jsx)("input",{className:a8,value:e.intro_headline||"",onChange:e=>t({intro_headline:e.target.value})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Parágrafos da introdução (1 por linha)"}),(0,r.jsx)("textarea",{className:`${a8} min-h-28`,value:(e.intro_body||[]).join("\n"),onChange:e=>t({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})]}),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero e Assets Fixos"}),(0,r.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,r.jsx)(tt,{label:"Logo da Hero",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>t({hero_logo_image:e}),requireAlt:!0}),(0,r.jsx)(tt,{label:"Capa SEO (opcional, não aparece na hero)",value:e.hero_cover_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>t({hero_cover_image:e})})]})]}),(0,r.jsxs)("section",{className:"space-y-4 border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navegação e SEO"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Texto do botão voltar"}),(0,r.jsx)("input",{className:a8,value:e.navigation?.back_label||"",onChange:a=>t({navigation:{...e.navigation,back_label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Texto do próximo projeto"}),(0,r.jsx)("input",{className:a8,value:e.navigation?.next_label||"",onChange:a=>t({navigation:{...e.navigation,next_label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Slug do próximo projeto"}),(0,r.jsx)("input",{className:a8,value:e.navigation?.next_project_slug||"",onChange:a=>t({navigation:{...e.navigation,next_project_slug:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Texto do CTA final"}),(0,r.jsx)("input",{className:a8,value:e.cta?.label||"",onChange:a=>t({cta:{...e.cta,label:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Link do CTA"}),(0,r.jsx)("input",{className:a8,value:e.cta?.href||"",onChange:a=>t({cta:{...e.cta,href:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Descrição SEO"}),(0,r.jsx)("textarea",{className:`${a8} min-h-24`,value:e.seo?.description||"",onChange:a=>t({seo:{...e.seo,description:a.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"SEO og:image"}),(0,r.jsx)("input",{className:a8,value:e.seo?.og_image||"",onChange:a=>t({seo:{...e.seo,og_image:a.target.value}})})]})]})]}),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Conteúdo Dinâmico (gallery_grid)"}),(0,r.jsxs)(a_,{children:[(0,r.jsx)(aC,{asChild:!0,children:(0,r.jsxs)("button",{type:"button",className:"inline-flex min-h-11 items-center gap-2 bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,r.jsx)(b.Plus,{size:14}),"Adicionar bloco"]})}),(0,r.jsxs)(aF,{align:"end",className:"w-72 border-white/10 bg-slate-950 text-slate-100",children:[(0,r.jsx)(aH,{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Layouts Básicos"}),te.map(e=>{let a=e.icon;return(0,r.jsxs)(a$,{onClick:()=>s(e.type),children:[(0,r.jsx)(a,{className:"mr-2 h-4 w-4"}),e.label]},e.type)}),(0,r.jsx)(aK,{className:"bg-white/10"}),(0,r.jsx)(aH,{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Composições"}),ta.map(e=>{let a=e.icon;return(0,r.jsxs)(a$,{onClick:()=>s(e.type),children:[(0,r.jsx)(a,{className:"mr-2 h-4 w-4"}),e.label]},e.type)})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,r.jsx)("div",{className:"border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum bloco no gallery_grid. Adicione o primeiro bloco."}):null,e.gallery_grid.map((a,s)=>{let o=l=>{var s;return s=a.id,void t({gallery_grid:e.gallery_grid.map(e=>e.id===s?{...e,...l}:e)})};return(0,r.jsxs)("div",{className:"space-y-4 border border-white/10 bg-slate-900/35 p-5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Bloco ",s+1," · ",a9[a.type]]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>l(s,"up"),className:"border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,r.jsx)(aJ,{size:14})}),(0,r.jsx)("button",{type:"button",onClick:()=>l(s,"down"),className:"border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,r.jsx)(aG.ArrowDown,{size:14})}),(0,r.jsx)("button",{type:"button",onClick:()=>{var l;return l=a.id,void t({gallery_grid:e.gallery_grid.filter(e=>e.id!==l)})},className:"border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover bloco",children:(0,r.jsx)(h.Trash2,{size:14})})]})]}),"text"===a.type?(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Conteúdo de texto"}),(0,r.jsx)("textarea",{className:`${a8} min-h-28`,value:a.content.text||"",onChange:e=>o({...a,content:{...a.content,text:e.target.value}})})]}):null,"quote-band"===a.type?(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Citação"}),(0,r.jsx)("textarea",{className:`${a8} min-h-20`,value:a.content.text||"",onChange:e=>o({...a,content:{...a.content,text:e.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,r.jsx)("span",{className:a7,children:"Texto de apoio (opcional)"}),(0,r.jsx)("textarea",{className:`${a8} min-h-20`,value:a.content.text2||"",onChange:e=>o({...a,content:{...a.content,text2:e.target.value}})})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Cor da faixa"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",className:"h-10 w-12 border border-white/10 bg-transparent",value:a.content.bandColor||"#0048ff",onChange:e=>o({...a,content:{...a.content,bandColor:e.target.value}})}),(0,r.jsx)("input",{className:a8,value:a.content.bandColor||"#0048ff",onChange:e=>o({...a,content:{...a.content,bandColor:e.target.value}})})]})]})]}):null,"image"===a.type?(0,r.jsx)(tl,{block:a,label:"Imagem Full",mediaKey:"media",altKey:"alt",posterKey:"poster",fileKey:"file",previewKey:"previewUrl",kind:"image",onChange:o}):null,"video"===a.type||"video-autoplay"===a.type?(0,r.jsx)(tl,{block:a,label:"video-autoplay"===a.type?"Vídeo Autoplay (Loop)":"Vídeo Full",mediaKey:"media",altKey:"alt",posterKey:"poster",fileKey:"file",previewKey:"previewUrl",kind:"video",onChange:o}):null,"image-text"===a.type||"text-image"===a.type||"video-text"===a.type?(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(tl,{block:a,label:"video-text"===a.type?"Mídia (Vídeo)":"Mídia (Imagem)",mediaKey:"media",altKey:"alt",posterKey:"poster",fileKey:"file",previewKey:"previewUrl",kind:"video-text"===a.type?"video":"image",onChange:o}),(0,r.jsxs)("label",{className:"space-y-1",children:[(0,r.jsx)("span",{className:a7,children:"Texto"}),(0,r.jsx)("textarea",{className:`${a8} min-h-40`,value:a.content.text||"",onChange:e=>o({...a,content:{...a.content,text:e.target.value}})})]})]}):null,"image-image"===a.type||"image-video"===a.type?(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(tl,{block:a,label:"Mídia 01",mediaKey:"media",altKey:"alt",posterKey:"poster",fileKey:"file",previewKey:"previewUrl",kind:"image",onChange:o}),(0,r.jsx)(tl,{block:a,label:"image-video"===a.type?"Mídia 02 (Vídeo)":"Mídia 02",mediaKey:"media2",altKey:"alt2",posterKey:"poster2",fileKey:"file2",previewKey:"previewUrl2",kind:"image-video"===a.type?"video":"image",onChange:o})]}):null]},a.id)})]})]})]})}let tr="/site-assets/",to=/\.(mp4|webm|ogg|mov)$/i,ti=/(youtu\.be\/|youtube\.com\/watch\?v=|youtube\.com\/embed\/|youtube\.com\/shorts\/)/i,tn=e=>e?e.includes(tr)?e.split(tr).pop()||"":e.replace(/^\/?storage\/v1\/object\/public\/site-assets\//,"").replace(/^\/?site-assets\//,"").replace(/^\//,""):"";function tc({initialData:e}){let a,t,l,s=(0,i.useRouter)(),d=(0,c.createClientComponentClient)(),p=(0,o.useMemo)(()=>(0,aB.parseLandingPageContent)(e?.content,{slug:e?.slug,title:e?.title,cover:e?.cover}),[e]),[u,x]=(0,o.useState)(e?.title||""),[T,P]=(0,o.useState)(e?.slug||""),[M,S]=(0,o.useState)(e?p.template:aq.MASTER_PROJECT_TEMPLATE_V3),[L,I]=(0,o.useState)(null),[U,O]=(0,o.useState)(e?.cover?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.cover}`:""),[D,V]=(0,o.useState)(p.template===aq.LEGACY_PROJECT_TEMPLATE?p.blocks.map(e=>({...e,id:e.id||m(),content:{...e.content,media:e.content.media?.startsWith("http")?e.content.media:e.content.media?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.content.media}`:void 0,media2:e.content.media2?.startsWith("http")?e.content.media2:e.content.media2?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.content.media2}`:void 0}})):[]),[z,F]=(0,o.useState)({...a=p.template===aq.MASTER_PROJECT_TEMPLATE?p.data:(0,aB.createDefaultMasterProjectTemplate)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:{...a.hero_cover_image,file:null,previewUrl:""},hero_logo_image:a.hero_logo_image?{...a.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:a.gallery_grid.map(e=>({...e,file:null,previewUrl:""}))}),[$,H]=(0,o.useState)({...t=p.template===aq.MASTER_PROJECT_TEMPLATE_V2?p.data:(0,aB.createDefaultMasterProjectTemplateV2)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:{...t.hero_cover_image,file:null,previewUrl:""},hero_logo_image:t.hero_logo_image?{...t.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:t.gallery_grid.map(e=>({...e,file:null,previewUrl:""}))}),[K,q]=(0,o.useState)({...l=p.template===aq.MASTER_PROJECT_TEMPLATE_V3?p.data:(0,aB.createDefaultMasterProjectTemplateV3)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:l.hero_cover_image?{...l.hero_cover_image,file:null,previewUrl:""}:void 0,hero_logo_image:l.hero_logo_image?{...l.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:l.gallery_grid.map(e=>({...e,file:null,file2:null,previewUrl:"",previewUrl2:""}))}),[B,G]=(0,o.useState)(!1),J=e=>{V([...D,{id:m(),type:e,content:{},file:null,file2:null}])},W=(e,a)=>{let t=[...D],l="up"===a?e-1:e+1;l<0||l>=D.length||([t[e],t[l]]=[t[l],t[e]],V(t))},X=async(e,a)=>await (0,k.uploadSiteAsset)({file:e,key:a,page:"landing-pages",subPath:T||"general",bucket:"site-assets"}),Y=async()=>{let a=e?.cover||"";if(L){let e=await X(L,`cover-${m()}`);e&&(a=e)}return{coverPath:a,content:await Promise.all(D.map(async e=>{let a=e.content.media,t=e.content.media2;if(e.file){let t=await X(e.file,`block-${e.id}-media1`);t&&(a=t)}else a&&(a=tn(a));if(e.file2){let a=await X(e.file2,`block-${e.id}-media2`);a&&(t=a)}else t&&(t=tn(t));return{id:e.id,type:e.type,content:{...e.content,media:a,media2:t}}}))}},Z=async()=>{let e,a={...z,project_slug:T,project_title:z.project_title||u},t=a.hero_cover_image.src;if(a.hero_cover_image.file){let e=await X(a.hero_cover_image.file,`master-hero-${m()}`);e&&(t=e)}else t=tn(t);let l=a.hero_logo_image;if(l?.file){let e=await X(l.file,`master-logo-${m()}`);e&&(l={...l,src:e,file:null,previewUrl:""})}else l?.src&&(l={...l,src:tn(l.src)});let s=await Promise.all(a.gallery_grid.map(async e=>{let a=e.src;if(e.file){let t=await X(e.file,`master-grid-${e.id}`);t&&(a=t)}else a=tn(a);return{...e,src:a,poster:e.poster?tn(e.poster):e.poster,file:null,previewUrl:""}})),r={...e={...a,hero_cover_image:{...a.hero_cover_image,src:t,file:null,previewUrl:""},hero_logo_image:l,gallery_grid:s,seo:{...a.seo,og_image:a.seo?.og_image?tn(a.seo.og_image):t}},hero_cover_image:{src:e.hero_cover_image.src,alt:e.hero_cover_image.alt,kind:e.hero_cover_image.kind,poster:e.hero_cover_image.poster},hero_logo_image:e.hero_logo_image?{src:e.hero_logo_image.src,alt:e.hero_logo_image.alt,kind:e.hero_logo_image.kind,poster:e.hero_logo_image.poster}:void 0,gallery_grid:e.gallery_grid.map(e=>({id:e.id,src:e.src,alt:e.alt,kind:e.kind,layout:e.layout,poster:e.poster,title:e.title,eyebrow:e.eyebrow,description:e.description,quote:e.quote}))};return{coverPath:t,content:r}},Q=async()=>{let e,a={...$,project_slug:T,project_title:$.project_title||u};if("video"!==a.hero_cover_image.kind&&!a.hero_cover_image.alt.trim())throw Error("Hero cover precisa de alt text quando for imagem.");let t=a.gallery_grid.find(e=>"video"!==e.kind&&"grid_quote"!==e.layout_type&&!e.alt.trim());if(t)throw Error(`Alt text obrigat\xf3rio no bloco "${t.id}" (imagem).`);let l=a.hero_cover_image.src;if(a.hero_cover_image.file){let e=await X(a.hero_cover_image.file,`master-v2-hero-${m()}`);e&&(l=e)}else l=tn(l);let s=a.hero_logo_image;if(s?.file){let e=await X(s.file,`master-v2-logo-${m()}`);e&&(s={...s,src:e,file:null,previewUrl:""})}else s?.src&&(s={...s,src:tn(s.src)});let r=await Promise.all(a.gallery_grid.map(async e=>{let a=e.src;if(e.file){let t=await X(e.file,`master-v2-grid-${e.id}`);t&&(a=t)}else a=tn(a);return{...e,src:a,poster:e.poster?tn(e.poster):e.poster,file:null,previewUrl:""}})),o={...e={...a,hero_cover_image:{...a.hero_cover_image,src:l,file:null,previewUrl:""},hero_logo_image:s,gallery_grid:r,seo:{...a.seo,og_image:a.seo?.og_image?tn(a.seo.og_image):l}},hero_cover_image:{src:e.hero_cover_image.src,alt:e.hero_cover_image.alt,kind:e.hero_cover_image.kind,poster:e.hero_cover_image.poster},hero_logo_image:e.hero_logo_image?{src:e.hero_logo_image.src,alt:e.hero_logo_image.alt,kind:e.hero_logo_image.kind,poster:e.hero_logo_image.poster}:void 0,gallery_grid:e.gallery_grid.map(e=>({id:e.id,src:e.src,alt:e.alt,kind:e.kind,layout_type:e.layout_type,poster:e.poster,title:e.title,eyebrow:e.eyebrow,description:e.description,quote:e.quote,media_align:e.media_align,features:e.features?.map((a,t)=>({id:a.id||`${e.id}-feature-${t+1}`,title:a.title,description:a.description}))}))};return{coverPath:l,content:o}},ee=async()=>{let a,t={...K,project_slug:T,project_title:K.project_title||u},l=e=>!!(e&&(to.test(e)||ti.test(e)));if(t.hero_logo_image&&"video"!==t.hero_logo_image.kind&&!t.hero_logo_image.alt.trim())throw Error("Logo da Hero precisa de alt text quando for imagem.");for(let e of t.gallery_grid){let a="image"===e.type||"image-text"===e.type||"text-image"===e.type||"image-image"===e.type||"image-video"===e.type,t="image-image"===e.type;if(a&&!l(e.content.media)&&!e.content.alt?.trim())throw Error(`Alt text obrigat\xf3rio no bloco "${e.id}" (m\xeddia 1).`);if(t&&!l(e.content.media2)&&!e.content.alt2?.trim())throw Error(`Alt text obrigat\xf3rio no bloco "${e.id}" (m\xeddia 2).`)}let s=t.hero_cover_image?.src||"";if(t.hero_cover_image?.file){let e=await X(t.hero_cover_image.file,`master-v3-cover-${m()}`);e&&(s=e)}else s&&(s=tn(s));let r=t.hero_logo_image;if(r?.file){let e=await X(r.file,`master-v3-logo-${m()}`);e&&(r={...r,src:e,file:null,previewUrl:""})}else r?.src&&(r={...r,src:tn(r.src)});let o=await Promise.all(t.gallery_grid.map(async e=>{let a=e.content.media,t=e.content.media2;if(e.file){let t=await X(e.file,`master-v3-${e.id}-media1`);t&&(a=t)}else a&&(a=tn(a));if(e.file2){let a=await X(e.file2,`master-v3-${e.id}-media2`);a&&(t=a)}else t&&(t=tn(t));return{...e,file:null,file2:null,previewUrl:"",previewUrl2:"",content:{...e.content,media:a,media2:t,poster:e.content.poster?tn(e.content.poster):e.content.poster,poster2:e.content.poster2?tn(e.content.poster2):e.content.poster2}}})),i=s||e?.cover||"",n={...a={...t,hero_cover_image:t.hero_cover_image?{...t.hero_cover_image,src:s,file:null,previewUrl:""}:void 0,hero_logo_image:r,gallery_grid:o,seo:{...t.seo,og_image:t.seo?.og_image?tn(t.seo.og_image):i}},hero_cover_image:a.hero_cover_image?{src:a.hero_cover_image.src,alt:a.hero_cover_image.alt,kind:a.hero_cover_image.kind,poster:a.hero_cover_image.poster}:void 0,hero_logo_image:a.hero_logo_image?{src:a.hero_logo_image.src,alt:a.hero_logo_image.alt,kind:a.hero_logo_image.kind,poster:a.hero_logo_image.poster}:void 0,gallery_grid:a.gallery_grid.map(e=>({id:e.id,type:e.type,content:{...e.content}}))};return{coverPath:i,content:n}},ea=async()=>{if(!u||!T)return void alert("Título e Slug são obrigatórios.");try{G(!0);let a=M===aq.MASTER_PROJECT_TEMPLATE?await Z():M===aq.MASTER_PROJECT_TEMPLATE_V2?await Q():M===aq.MASTER_PROJECT_TEMPLATE_V3?await ee():await Y(),t={title:u,slug:T,cover:a.coverPath,content:a.content};if(e?.id){let{error:a}=await d.from("landing_pages").update(t).eq("id",e.id);if(a)throw a}else{let{error:e}=await d.from("landing_pages").insert({...t,created_at:new Date().toISOString()});if(e)throw e}s.push("/admin/landing-pages"),s.refresh()}catch(a){let e=a instanceof Error?a.message:"Erro desconhecido";console.error(a),alert(`Erro ao salvar p\xe1gina: ${e}`)}finally{G(!1)}};return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-12 pb-48",children:[(0,r.jsxs)("div",{className:"sticky top-4 z-50 flex items-center justify-between rounded-full border border-white/10 bg-black/50 p-4 shadow-2xl backdrop-blur-md",children:[(0,r.jsxs)(E.default,{href:"/admin/landing-pages",className:"flex items-center gap-2 px-4 text-slate-400 transition-colors hover:text-white",children:[(0,r.jsx)(j.ArrowLeft,{size:20}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Voltar"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[T?(0,r.jsx)(E.default,{href:`/projects/${T}`,target:"_blank",rel:"noopener noreferrer",className:"hidden rounded-full border border-white/15 px-5 py-2 text-xs font-semibold uppercase tracking-[0.1em] text-slate-200 transition-colors hover:border-blue-400 hover:text-white md:inline-flex",children:"Preview"}):null,(0,r.jsx)("span",{className:"hidden text-sm text-slate-500 lg:inline",children:M===aq.MASTER_PROJECT_TEMPLATE?`${z.gallery_grid.length} itens no gallery_grid`:M===aq.MASTER_PROJECT_TEMPLATE_V2?`${$.gallery_grid.length} blocos no gallery_grid`:M===aq.MASTER_PROJECT_TEMPLATE_V3?`${K.gallery_grid.length} blocos no gallery_grid`:`${D.length} blocos adicionados`}),(0,r.jsxs)("button",{onClick:ea,disabled:B,className:"flex items-center gap-2 rounded-full bg-blue-600 px-8 py-2.5 text-sm font-bold tracking-wide text-white shadow-lg shadow-blue-600/20 transition-all hover:bg-blue-500 disabled:opacity-50",children:[(0,r.jsx)(f,{size:18}),B?"PUBLICANDO...":"SALVAR PÁGINA"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,r.jsx)("div",{className:"space-y-6 lg:col-span-1",children:(0,r.jsxs)("div",{className:"sticky top-28 space-y-6 rounded-3xl border border-white/5 bg-slate-900/40 p-6",children:[(0,r.jsx)("h2",{className:"mb-4 text-xs font-bold uppercase tracking-[0.2em] text-blue-400",children:"Configurações"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Tipo de Template"}),(0,r.jsxs)("select",{className:"w-full rounded-xl border border-white/10 bg-slate-950 px-4 py-3 text-sm outline-none focus:border-blue-500",value:M,onChange:e=>S(e.target.value),children:[(0,r.jsx)("option",{value:aq.MASTER_PROJECT_TEMPLATE_V3,children:"Template Mestre V3 (ALPA)"}),(0,r.jsx)("option",{value:aq.MASTER_PROJECT_TEMPLATE_V2,children:"Template Mestre V2 (MLPE)"}),(0,r.jsx)("option",{value:aq.MASTER_PROJECT_TEMPLATE,children:"Template Mestre V1"}),(0,r.jsx)("option",{value:aq.LEGACY_PROJECT_TEMPLATE,children:"Legacy Blocks"})]}),(0,r.jsx)("p",{className:"text-[11px] leading-relaxed text-slate-500",children:"O V3 (ALPA) usa blocos atômicos/composições com hero limpa e zoom de assets. O V2 mantém o MLPE, o V1 o template anterior e o Legacy mantém o builder antigo por blocos."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Título"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>{let a=e.target.value;x(a),M!==aq.MASTER_PROJECT_TEMPLATE||z.project_title||F(e=>({...e,project_title:a})),M!==aq.MASTER_PROJECT_TEMPLATE_V2||$.project_title||H(e=>({...e,project_title:a})),M!==aq.MASTER_PROJECT_TEMPLATE_V3||K.project_title||q(e=>({...e,project_title:a}))},className:"w-full rounded-xl border border-white/10 bg-slate-950 px-4 py-3 text-lg font-medium outline-none focus:border-blue-500",placeholder:"Nome do Projeto"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Slug URL"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-slate-500",children:[(0,r.jsx)("span",{className:"text-xs",children:"/projects/"}),(0,r.jsx)("input",{type:"text",value:T,onChange:e=>{let a=e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-");P(a),M===aq.MASTER_PROJECT_TEMPLATE&&F(e=>({...e,project_slug:a})),M===aq.MASTER_PROJECT_TEMPLATE_V2&&H(e=>({...e,project_slug:a})),M===aq.MASTER_PROJECT_TEMPLATE_V3&&q(e=>({...e,project_slug:a}))},className:"w-full bg-transparent text-sm font-mono text-white outline-none",placeholder:"my-project"})]})]}),M===aq.LEGACY_PROJECT_TEMPLATE?(0,r.jsxs)("div",{className:"space-y-3 border-t border-white/5 pt-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest text-slate-500",children:["Header Hero Image"," ",(0,r.jsx)("span",{className:"text-[10px] text-blue-500",children:"(Cover)"})]}),(0,r.jsx)("div",{className:"group relative aspect-4/3 overflow-hidden rounded-xl border border-white/10 bg-slate-950",children:U?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.default,{src:U,alt:"Cover",fill:!0,className:"object-cover"}),(0,r.jsx)("button",{onClick:()=>{I(null),O("")},className:"absolute top-2 right-2 rounded-full bg-red-600 p-2 opacity-0 transition-opacity group-hover:opacity-100",title:"Remover Capa","aria-label":"Remover Capa",type:"button",children:(0,r.jsx)(h.Trash2,{size:16})})]}):(0,r.jsxs)("label",{className:"absolute inset-0 flex cursor-pointer flex-col items-center justify-center transition-colors hover:bg-white/5",children:[(0,r.jsx)(N.ImageIcon,{className:"mb-2 text-slate-600"}),(0,r.jsx)("span",{className:"text-[10px] text-slate-500",children:"Upload Capa"}),(0,r.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];a&&(I(a),O(URL.createObjectURL(a)))}})]})})]}):null]})}),(0,r.jsx)("div",{className:"space-y-8 lg:col-span-2",children:M===aq.MASTER_PROJECT_TEMPLATE?(0,r.jsx)(aQ,{value:z,onChange:F}):M===aq.MASTER_PROJECT_TEMPLATE_V2?(0,r.jsx)(a5,{value:$,onChange:H}):M===aq.MASTER_PROJECT_TEMPLATE_V3?(0,r.jsx)(ts,{value:K,onChange:q}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xs font-bold uppercase tracking-[0.2em] text-white",children:"Builder"}),(0,r.jsxs)(a_,{children:[(0,r.jsx)(aC,{asChild:!0,children:(0,r.jsxs)("button",{className:"flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-xs font-bold uppercase tracking-wide text-white shadow-lg transition-all hover:bg-blue-500 hover:shadow-blue-500/25",children:[(0,r.jsx)(b.Plus,{size:16})," Adicionar Bloco"]})}),(0,r.jsxs)(aF,{align:"end",className:"w-56 border-slate-800 bg-slate-900 text-slate-200",children:[(0,r.jsx)(aH,{className:"text-xs uppercase tracking-widest text-slate-500",children:"Layouts Básicos"}),(0,r.jsxs)(a$,{onClick:()=>J("text"),children:[(0,r.jsx)(_,{className:"mr-2 h-4 w-4"})," Texto Puro"]}),(0,r.jsxs)(a$,{onClick:()=>J("image"),children:[(0,r.jsx)(N.ImageIcon,{className:"mr-2 h-4 w-4"})," Imagem Full"]}),(0,r.jsxs)(a$,{onClick:()=>J("video"),children:[(0,r.jsx)(w,{className:"mr-2 h-4 w-4"})," Vídeo Full"]}),(0,r.jsxs)(a$,{onClick:()=>J("video-autoplay"),children:[(0,r.jsx)(w,{className:"mr-2 h-4 w-4 text-blue-400"})," Vídeo Autoplay (Loop)"]}),(0,r.jsx)(aK,{className:"bg-slate-800"}),(0,r.jsx)(aH,{className:"text-xs uppercase tracking-widest text-slate-500",children:"Composições"}),(0,r.jsxs)(a$,{onClick:()=>J("image-text"),children:[(0,r.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,r.jsx)(N.ImageIcon,{className:"h-3 w-3"}),(0,r.jsx)(_,{className:"h-3 w-3"})]})," ","Imagem + Texto"]}),(0,r.jsxs)(a$,{onClick:()=>J("text-image"),children:[(0,r.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,r.jsx)(_,{className:"h-3 w-3"}),(0,r.jsx)(N.ImageIcon,{className:"h-3 w-3"})]})," ","Texto + Imagem"]}),(0,r.jsxs)(a$,{onClick:()=>J("image-image"),children:[(0,r.jsx)(C,{className:"mr-2 h-4 w-4"})," Imagem Dupla (Grid)"]}),(0,r.jsxs)(a$,{onClick:()=>J("image-video"),children:[(0,r.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,r.jsx)(N.ImageIcon,{className:"h-3 w-3"}),(0,r.jsx)(w,{className:"h-3 w-3"})]})," ","Imagem + Vídeo"]}),(0,r.jsxs)(a$,{onClick:()=>J("video-text"),children:[(0,r.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,r.jsx)(w,{className:"h-3 w-3"}),(0,r.jsx)(_,{className:"h-3 w-3"})]})," ","Vídeo + Texto"]})]})]})]}),(0,r.jsxs)("div",{className:"min-h-[500px] space-y-8",children:[0===D.length&&(0,r.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border-2 border-dashed border-white/5 bg-slate-900/20 text-slate-500",children:[(0,r.jsx)(y,{className:"mb-4 opacity-20",size:64}),(0,r.jsx)("p",{className:"text-sm",children:"Comece adicionando um bloco via menu acima."})]}),D.map((e,a)=>(0,r.jsxs)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"group relative overflow-hidden rounded-3xl border border-white/5 bg-[#0a0a0a] shadow-xl transition-all hover:border-blue-500/30",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-white/5 bg-white/5 px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"rounded border border-blue-500/20 bg-blue-500/10 px-2 py-1 text-[10px] font-bold text-blue-400",children:(a+1).toString().padStart(2,"0")}),(0,r.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:e.type.replace("-"," & ")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 opacity-50 transition-opacity group-hover:opacity-100",children:[(0,r.jsx)("button",{onClick:()=>W(a,"up"),disabled:0===a,className:"rounded-lg p-2 hover:bg-white/10 disabled:opacity-20",title:"Mover para cima","aria-label":"Mover para cima",type:"button",children:(0,r.jsx)(g,{size:14})}),(0,r.jsx)("button",{onClick:()=>W(a,"down"),disabled:a===D.length-1,className:"rounded-lg p-2 hover:bg-white/10 disabled:opacity-20",title:"Mover para baixo","aria-label":"Mover para baixo",type:"button",children:(0,r.jsx)(v,{size:14})}),(0,r.jsx)("div",{className:"mx-2 h-4 w-px bg-white/10"}),(0,r.jsx)("button",{onClick:()=>{var a;return a=e.id,void(confirm("Tem certeza que deseja remover este bloco?")&&V(D.filter(e=>e.id!==a)))},className:"rounded-lg p-2 text-slate-500 hover:bg-red-500/20 hover:text-red-400",title:"Remover bloco","aria-label":"Remover bloco",type:"button",children:(0,r.jsx)(h.Trash2,{size:14})})]})]}),(0,r.jsx)(A,{block:e,onChange:a=>{var t;return t=e.id,void V(D.map(e=>e.id===t?{...e,...a}:e))}})]},e.id))]})]})})]})]})}e.s(["default",()=>tc],58384)}]);