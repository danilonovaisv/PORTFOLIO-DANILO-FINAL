(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),s=e.i(31178),i=e.i(47414),a=e.i(74008),n=e.i(21476),l=e.i(72846),o=r,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class p extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,s=(0,l.isHTMLElement)(e)&&e.offsetHeight||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left,i.bottom=s-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:s,anchorX:i,anchorY:a,root:n,pop:l}){let u=(0,o.useId)(),h=(0,o.useRef)(null),m=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=(0,o.useContext)(c.MotionConfigContext),x=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=d(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(h,e.props?.ref??e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:c,bottom:d}=m.current;if(s||!1===l||!h.current||!e||!t)return;let p="left"===i?`left: ${o}`:`right: ${c}`,x="bottom"===a?`bottom: ${d}`:`top: ${r}`;h.current.dataset.motionPopId=u;let E=document.createElement("style");f&&(E.nonce=f);let T=n??document.head;return T.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${p}px !important;
            ${x}px !important;
          }
        `),()=>{T.contains(E)&&T.removeChild(E)}},[s]),(0,t.jsx)(p,{isPresent:s,childRef:h,sizeRef:m,pop:l,children:!1===l?e:o.cloneElement(e,{ref:x})})}let h=({children:e,initial:s,isPresent:a,onExitComplete:l,custom:o,presenceAffectsLayout:c,mode:d,anchorX:p,anchorY:h,root:f})=>{let x=(0,i.useConstant)(m),E=(0,r.useId)(),T=!0,g=(0,r.useMemo)(()=>(T=!1,{id:E,initial:s,isPresent:a,custom:o,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;l&&l()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[a,x,l]);return c&&T&&(g={...g}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[a]),r.useEffect(()=>{a||x.size||!l||l()},[a]),e=(0,t.jsx)(u,{pop:"popLayout"===d,isPresent:a,anchorX:p,anchorY:h,root:f,children:e}),(0,t.jsx)(n.PresenceContext.Provider,{value:g,children:e})};function m(){return new Map}var f=e.i(64978);let x=e=>e.key||"";function E(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let T=({children:e,custom:n,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:p=!1,anchorX:u="left",anchorY:m="top",root:T})=>{let[g,j]=(0,f.usePresence)(p),y=(0,r.useMemo)(()=>E(e),[e]),M=p&&!g?[]:y.map(x),P=(0,r.useRef)(!0),_=(0,r.useRef)(y),b=(0,i.useConstant)(()=>new Map),R=(0,r.useRef)(new Set),[C,A]=(0,r.useState)(y),[v,w]=(0,r.useState)(y);(0,a.useIsomorphicLayoutEffect)(()=>{P.current=!1,_.current=y;for(let e=0;e<v.length;e++){let t=x(v[e]);M.includes(t)?(b.delete(t),R.current.delete(t)):!0!==b.get(t)&&b.set(t,!1)}},[v,M.length,M.join("-")]);let N=[];if(y!==C){let e=[...y];for(let t=0;t<v.length;t++){let r=v[t],s=x(r);M.includes(s)||(e.splice(t,0,r),N.push(r))}return"wait"===d&&N.length&&(e=N),w(E(e)),A(y),null}let{forceRender:L}=(0,r.useContext)(s.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:v.map(e=>{let r=x(e),s=(!p||!!g)&&(y===v||M.includes(r));return(0,t.jsx)(h,{isPresent:s,initial:(!P.current||!!l)&&void 0,custom:n,presenceAffectsLayout:c,mode:d,root:T,onExitComplete:s?void 0:()=>{if(R.current.has(r)||(R.current.add(r),!b.has(r)))return;b.set(r,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(L?.(),w(_.current),p&&j?.(),o&&o())},anchorX:u,anchorY:m,children:e},r)})})};e.s(["AnimatePresence",()=>T],88653)},14565,e=>{"use strict";e.s(["LEGACY_PROJECT_TEMPLATE",0,"legacy-blocks","MASTER_PROJECT_TEMPLATE",0,"master-project-v1","MASTER_PROJECT_TEMPLATE_V2",0,"master-project-v2","MASTER_PROJECT_TEMPLATE_V3",0,"master-project-v3-alpa"])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},59353,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(22016),i=e.i(11795),a=e.i(7233),n=e.i(75254);let l=(0,n.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var o=e.i(27612);let c=(0,n.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=e.i(46932),p=e.i(88653),u=e.i(14565);function h(){let e=(0,i.createClientComponentClient)(),[n,h]=(0,r.useState)([]),[m,f]=(0,r.useState)(!0);async function x(){try{f(!0);let{data:t,error:r}=await e.from("landing_pages").select("id, title, slug, created_at, content").order("created_at",{ascending:!1});if(r)throw r;let s=t?.map(e=>({id:e.id,title:e.title,slug:e.slug,created_at:e.created_at,template:function(e){if(Array.isArray(e))return u.LEGACY_PROJECT_TEMPLATE;if(e&&"object"==typeof e&&"template"in e){let t=e.template;if(t===u.MASTER_PROJECT_TEMPLATE)return u.MASTER_PROJECT_TEMPLATE;if(t===u.MASTER_PROJECT_TEMPLATE_V2)return u.MASTER_PROJECT_TEMPLATE_V2;if(t===u.MASTER_PROJECT_TEMPLATE_V3)return u.MASTER_PROJECT_TEMPLATE_V3}return u.LEGACY_PROJECT_TEMPLATE}(e.content)}));h(s||[])}catch(e){console.error("Error fetching landing pages:",e)}finally{f(!1)}}async function E(t){if(confirm("Tem certeza que deseja excluir esta página?"))try{let{error:r}=await e.from("landing_pages").delete().eq("id",t);if(r)throw r;h(n.filter(e=>e.id!==t))}catch(e){console.error("Error deleting landing page:",e),alert("Erro ao excluir página.")}}return(0,r.useEffect)(()=>{x()},[]),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Gerenciamento"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold",children:"Portfolio Projects"})]}),(0,t.jsxs)(s.default,{href:"/admin/landing-pages/new",className:"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow transition-all hover:bg-blue-700",children:[(0,t.jsx)(a.Plus,{size:18}),"Novo Projeto"]})]}),(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-slate-900/40 backdrop-blur-sm",children:m?(0,t.jsx)("div",{className:"p-12 text-center text-slate-400",children:"Carregando..."}):n.length>0?(0,t.jsxs)("table",{className:"min-w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/10 text-slate-400",children:[(0,t.jsx)("th",{className:"px-6 py-4 font-medium uppercase tracking-wider",children:"Título"}),(0,t.jsx)("th",{className:"px-6 py-4 font-medium uppercase tracking-wider",children:"Slug"}),(0,t.jsx)("th",{className:"px-6 py-4 font-medium uppercase tracking-wider",children:"Template"}),(0,t.jsx)("th",{className:"px-6 py-4 font-medium uppercase tracking-wider",children:"Criação"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right font-medium uppercase tracking-wider",children:"Ações"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:(0,t.jsx)(p.AnimatePresence,{children:n.map(e=>(0,t.jsxs)(d.motion.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"group transition-colors hover:bg-white/2",children:[(0,t.jsx)("td",{className:"px-6 py-4 font-medium text-white",children:e.title}),(0,t.jsxs)("td",{className:"px-6 py-4 font-mono text-xs text-slate-400",children:["/",e.slug]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`inline-flex rounded-full px-2 py-1 text-[10px] font-semibold uppercase tracking-[0.12em] ${e.template===u.MASTER_PROJECT_TEMPLATE||e.template===u.MASTER_PROJECT_TEMPLATE_V2||e.template===u.MASTER_PROJECT_TEMPLATE_V3?"bg-blue-500/15 text-blue-200 border border-blue-400/30":"bg-slate-700/50 text-slate-300 border border-white/10"}`,children:e.template===u.MASTER_PROJECT_TEMPLATE_V3?"Template Mestre V3":e.template===u.MASTER_PROJECT_TEMPLATE?"Template Mestre V1":e.template===u.MASTER_PROJECT_TEMPLATE_V2?"Template Mestre V2":"Legacy"})}),(0,t.jsx)("td",{className:"px-6 py-4 text-slate-500",children:new Date(e.created_at).toLocaleDateString("pt-BR")}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(s.default,{href:`/projects/${e.slug}`,target:"_blank",className:"p-2 text-slate-400 transition-colors hover:text-white",title:"Ver página pública",children:(0,t.jsx)(c,{size:18})}),(0,t.jsx)(s.default,{href:`/admin/landing-pages/${e.id}`,className:"p-2 text-slate-400 transition-colors hover:text-blue-400",title:"Editar",children:(0,t.jsx)(l,{size:18})}),(0,t.jsx)("button",{onClick:()=>E(e.id),className:"p-2 text-slate-400 transition-colors hover:text-red-400",title:"Excluir",type:"button",children:(0,t.jsx)(o.Trash2,{size:18})})]})})]},e.id))})})]}):(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("p",{className:"mb-4 text-slate-400",children:"Nenhum projeto criado."}),(0,t.jsx)(s.default,{href:"/admin/landing-pages/new",className:"text-sm text-blue-400 hover:underline",children:"Criar meu primeiro projeto"})]})})]})}e.s(["default",()=>h],59353)}]);