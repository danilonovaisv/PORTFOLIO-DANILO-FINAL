(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14565,e=>{"use strict";e.s(["LEGACY_PROJECT_TEMPLATE",0,"legacy-blocks","MASTER_PROJECT_TEMPLATE",0,"master-project-v1","MASTER_PROJECT_TEMPLATE_V2",0,"master-project-v2","MASTER_PROJECT_TEMPLATE_V3",0,"master-project-v3-alpa"])},29832,e=>{"use strict";var t=e.i(11795);let a=/[^a-z0-9._-]/g;var l=e.i(12559);async function r(e,a,r,o){let s,i,n=(0,t.createClientComponentClient)(),d=o.name.split(".").pop(),c=d?`${r}.${d}`:r,p=(i=(s=a.replace(/\/+$/g,"").replace(/^\/+/g,""))?`${s}`:"")?`${i}/${c}`:c,{data:u,error:m}=await n.storage.from(e).upload(p,o,{cacheControl:"3600",upsert:!0});if(m)throw m;return(0,l.normalizeStoragePath)(u.path,e)}async function o({file:e,key:r,page:o,subPath:s,bucket:i="site-assets"}){let n=(0,t.createClientComponentClient)(),d=function({page:e,key:t,subPath:l,extension:r}){let o=[e&&e.trim().length>0?e.trim():"global"];l&&o.push(l.trim().replace(/^\/+|\/+$/g,""));let s=t.trim().toLowerCase().replace(/\s+/g,"_").replace(a,""),i=r.toLowerCase().replace(/^\.+/,"")||"bin",n=`${s}.${i}`;return`${o.join("/")}/${n}`}({page:o,key:r,subPath:s,extension:e.name.split(".").pop()??"bin"}),{data:c,error:p}=await n.storage.from(i).upload(d,e,{cacheControl:"3600",upsert:!0});if(p)throw p;return(0,l.normalizeStoragePath)(c.path,i)}e.s(["uploadSiteAsset",()=>o,"uploadToBucket",()=>r],29832)},63825,e=>{"use strict";let t;var a=e.i(43476);let l=(0,e.i(75254).default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var r=e.i(71645),o=e.i(81140),s=e.i(20783),i=e.i(30030),n=e.i(26330),d=e.i(10772),c=e.i(53660),p=(e.i(74606),e.i(96626)),u=e.i(48425),m=Symbol("radix.slottable"),x=e.i(69340),g=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f=r.forwardRef((e,t)=>(0,a.jsx)(u.Primitive.span,{...e,ref:t,style:{...g,...e.style}}));f.displayName="VisuallyHidden";var[h,b]=(0,i.createContextScope)("Tooltip",[c.createPopperScope]),j=(0,c.createPopperScope)(),_="TooltipProvider",v="tooltip.open",[y,T]=h(_),w=e=>{let{__scopeTooltip:t,delayDuration:l=700,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:i}=e,n=r.useRef(!0),d=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,a.jsx)(y,{scope:t,isOpenDelayedRef:n,delayDuration:l,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),n.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>n.current=!0,o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:r.useCallback(e=>{d.current=e},[]),disableHoverableContent:s,children:i})};w.displayName=_;var N="Tooltip",[C,E]=h(N),P=e=>{let{__scopeTooltip:t,children:l,open:o,defaultOpen:s,onOpenChange:i,disableHoverableContent:n,delayDuration:p}=e,u=T(N,e.__scopeTooltip),m=j(t),[g,f]=r.useState(null),h=(0,d.useId)(),b=r.useRef(0),_=n??u.disableHoverableContent,y=p??u.delayDuration,w=r.useRef(!1),[E,P]=(0,x.useControllableState)({prop:o,defaultProp:s??!1,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(v))):u.onClose(),i?.(e)},caller:N}),R=r.useMemo(()=>E?w.current?"delayed-open":"instant-open":"closed",[E]),A=r.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,P(!0)},[P]),k=r.useCallback(()=>{window.clearTimeout(b.current),b.current=0,P(!1)},[P]),M=r.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,P(!0),b.current=0},y)},[y,P]);return r.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),(0,a.jsx)(c.Root,{...m,children:(0,a.jsx)(C,{scope:t,contentId:h,open:E,stateAttribute:R,trigger:g,onTriggerChange:f,onTriggerEnter:r.useCallback(()=>{u.isOpenDelayedRef.current?M():A()},[u.isOpenDelayedRef,M,A]),onTriggerLeave:r.useCallback(()=>{_?k():(window.clearTimeout(b.current),b.current=0)},[k,_]),onOpen:A,onClose:k,disableHoverableContent:_,children:l})})};P.displayName=N;var R="TooltipTrigger",A=r.forwardRef((e,t)=>{let{__scopeTooltip:l,...i}=e,n=E(R,l),d=T(R,l),p=j(l),m=r.useRef(null),x=(0,s.useComposedRefs)(t,m,n.onTriggerChange),g=r.useRef(!1),f=r.useRef(!1),h=r.useCallback(()=>g.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,a.jsx)(c.Anchor,{asChild:!0,...p,children:(0,a.jsx)(u.Primitive.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...i,ref:x,onPointerMove:(0,o.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(f.current||d.isPointerInTransitRef.current||(n.onTriggerEnter(),f.current=!0))}),onPointerLeave:(0,o.composeEventHandlers)(e.onPointerLeave,()=>{n.onTriggerLeave(),f.current=!1}),onPointerDown:(0,o.composeEventHandlers)(e.onPointerDown,()=>{n.open&&n.onClose(),g.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:(0,o.composeEventHandlers)(e.onFocus,()=>{g.current||n.onOpen()}),onBlur:(0,o.composeEventHandlers)(e.onBlur,n.onClose),onClick:(0,o.composeEventHandlers)(e.onClick,n.onClose)})})});A.displayName=R;var[k,M]=h("TooltipPortal",{forceMount:void 0}),z="TooltipContent",L=r.forwardRef((e,t)=>{let l=M(z,e.__scopeTooltip),{forceMount:r=l.forceMount,side:o="top",...s}=e,i=E(z,e.__scopeTooltip);return(0,a.jsx)(p.Presence,{present:r||i.open,children:i.disableHoverableContent?(0,a.jsx)(D,{side:o,...s,ref:t}):(0,a.jsx)(S,{side:o,...s,ref:t})})}),S=r.forwardRef((e,t)=>{let l=E(z,e.__scopeTooltip),o=T(z,e.__scopeTooltip),i=r.useRef(null),n=(0,s.useComposedRefs)(t,i),[d,c]=r.useState(null),{trigger:p,onClose:u}=l,m=i.current,{onPointerInTransitChange:x}=o,g=r.useCallback(()=>{c(null),x(!1)},[x]),f=r.useCallback((e,t)=>{let a,l=e.currentTarget,r={x:e.clientX,y:e.clientY},o=function(e,t){let a=Math.abs(t.top-e.y),l=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(a,l,r,o)){case o:return"left";case r:return"right";case a:return"top";case l:return"bottom";default:throw Error("unreachable")}}(r,l.getBoundingClientRect());c(((a=[...function(e,t,a=5){let l=[];switch(t){case"top":l.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":l.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":l.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":l.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return l}(r,o),...function(e){let{top:t,right:a,bottom:l,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:l},{x:r,y:l}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let l=e[a];for(;t.length>=2;){let e=t[t.length-1],a=t[t.length-2];if((e.x-a.x)*(l.y-a.y)>=(e.y-a.y)*(l.x-a.x))t.pop();else break}t.push(l)}t.pop();let a=[];for(let t=e.length-1;t>=0;t--){let l=e[t];for(;a.length>=2;){let e=a[a.length-1],t=a[a.length-2];if((e.x-t.x)*(l.y-t.y)>=(e.y-t.y)*(l.x-t.x))a.pop();else break}a.push(l)}return(a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y)?t:t.concat(a)}(a))),x(!0)},[x]);return r.useEffect(()=>()=>g(),[g]),r.useEffect(()=>{if(p&&m){let e=e=>f(e,m),t=e=>f(e,p);return p.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{p.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[p,m,f,g]),r.useEffect(()=>{if(d){let e=e=>{let t=e.target,a={x:e.clientX,y:e.clientY},l=p?.contains(t)||m?.contains(t),r=!function(e,t){let{x:a,y:l}=e,r=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let s=t[e],i=t[o],n=s.x,d=s.y,c=i.x,p=i.y;d>l!=p>l&&a<(c-n)*(l-d)/(p-d)+n&&(r=!r)}return r}(a,d);l?g():r&&(g(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[p,m,d,u,g]),(0,a.jsx)(D,{...e,ref:n})}),[F,O]=h(N,{isInside:!1}),V=((t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e})).displayName="TooltipContent.Slottable",t.__radixId=m,t),D=r.forwardRef((e,t)=>{let{__scopeTooltip:l,children:o,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:d,...p}=e,u=E(z,l),m=j(l),{onClose:x}=u;return r.useEffect(()=>(document.addEventListener(v,x),()=>document.removeEventListener(v,x)),[x]),r.useEffect(()=>{if(u.trigger){let e=e=>{let t=e.target;t?.contains(u.trigger)&&x()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,x]),(0,a.jsx)(n.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:e=>e.preventDefault(),onDismiss:x,children:(0,a.jsxs)(c.Content,{"data-state":u.stateAttribute,...m,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,a.jsx)(V,{children:o}),(0,a.jsx)(F,{scope:l,isInside:!0,children:(0,a.jsx)(f,{id:u.contentId,role:"tooltip",children:s||o})})]})})});L.displayName=z;var $="TooltipArrow";r.forwardRef((e,t)=>{let{__scopeTooltip:l,...r}=e,o=j(l);return O($,l).isInside?null:(0,a.jsx)(c.Arrow,{...o,...r,ref:t})}).displayName=$;var H=e.i(75157);let I=r.forwardRef(({className:e,sideOffset:t=4,...l},r)=>(0,a.jsx)(L,{ref:r,sideOffset:t,className:(0,H.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...l}));function q({label:e,description:t,className:r}){return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:e}),(0,a.jsx)(w,{delayDuration:120,children:(0,a.jsxs)(P,{children:[(0,a.jsx)(A,{asChild:!0,"aria-label":`Ajuda sobre ${e.toLowerCase()}`,children:(0,a.jsx)("button",{type:"button",className:"inline-flex h-5 w-5 items-center justify-center rounded-full text-slate-400 transition-colors hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",children:(0,a.jsx)(l,{size:14,"aria-hidden":"true"})})}),(0,a.jsx)(I,{side:"top",className:"max-w-72 border-white/20 bg-slate-900 text-[11px] leading-relaxed text-slate-200",children:t})]})})]})}I.displayName=L.displayName,e.s(["FieldTooltip",()=>q],63825)},75578,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(18566),r=e.i(94814),o=e.i(53145),s=e.i(81307),i=e.i(11795),n=e.i(29832),d=e.i(63825),c=e.i(14565);let p=s.z.object({title:s.z.string().min(3),slug:s.z.string().min(3),client_name:s.z.string().min(2),brand_name:s.z.string().optional(),year:s.z.coerce.number().int().optional(),project_type:s.z.string().min(2),short_label:s.z.string().optional(),description:s.z.string().optional(),featured_on_home:s.z.boolean().optional(),featured_on_portfolio:s.z.boolean().optional(),featured_home_order:s.z.coerce.number().int().optional().nullable(),featured_portfolio_order:s.z.coerce.number().int().optional().nullable(),preferred_size:s.z.preprocess(e=>""===e?void 0:e,s.z.enum(["sm","md","lg","wide"]).optional().nullable()),is_published:s.z.boolean().optional(),landing_page_id:s.z.string().optional().nullable(),tags:s.z.array(s.z.string()).optional()});function u({project:e,tags:s,landingPages:u,selectedTagIds:m=[]}){let x=!!e?.url_landscape,g=!!e?.url_square,[f,h]=(0,a.useState)(null),[b,j]=(0,a.useState)(null),[_,v]=(0,a.useState)(null),[y,T]=(0,a.useState)(null),[w,N]=(0,a.useState)([]),[C,E]=(0,a.useState)(null),[P,R]=(0,a.useTransition)(),A=(0,l.useRouter)(),k=(0,o.useForm)({resolver:(0,r.zodResolver)(p),defaultValues:{title:e?.title??"",slug:e?.slug??"",client_name:e?.client_name??"",brand_name:e?.brand_name??"",year:e?.year??void 0,project_type:e?.project_type??"Branding & Identity",short_label:e?.short_label??"",description:e?.description??"",featured_on_home:e?.featured_on_home??!1,featured_on_portfolio:e?.featured_on_portfolio??!1,featured_home_order:e?.featured_home_order??void 0,featured_portfolio_order:e?.featured_portfolio_order??void 0,preferred_size:e?.preferred_size??null,is_published:e?.is_published??!0,landing_page_id:e?.landing_page_id??"",tags:m}}),M=k.watch("tags")||[],z=(0,a.useMemo)(()=>u.map(e=>{let t=e.content&&"object"==typeof e.content&&"template"in e.content&&(e.content.template===c.MASTER_PROJECT_TEMPLATE||e.content.template===c.MASTER_PROJECT_TEMPLATE_V2||e.content.template===c.MASTER_PROJECT_TEMPLATE_V3)?e.content.template:c.LEGACY_PROJECT_TEMPLATE;return{...e,template:t}}),[u]);return(0,t.jsxs)("form",{className:"space-y-6",onSubmit:k.handleSubmit(t=>{E(null),R(async()=>{try{let a=(0,i.createClientComponentClient)(),l=e?.thumbnail_path??null,r=e?.hero_image_path??null,o=e?.url_landscape??null,s=e?.url_square??null,d=Array.isArray(e?.gallery)?e?.gallery?.map(e=>({path:e.path})):[];if(!_&&!x)return void E("Envie a variante 16:9 antes de salvar o projeto.");if(!y&&!g)return void E("Envie a variante 1:1 antes de salvar o projeto.");if(f&&(l=await (0,n.uploadToBucket)("portfolio-media",`projects/${t.slug}`,"thumb",f)),b&&(r=await (0,n.uploadToBucket)("portfolio-media",`projects/${t.slug}`,"hero",b)),_&&(o=await (0,n.uploadToBucket)("portfolio-media",`projects/${t.slug}`,"cover-16x9",_)),y&&(s=await (0,n.uploadToBucket)("portfolio-media",`projects/${t.slug}`,"cover-1x1",y)),w.length>0)for(let e of w){let a=await (0,n.uploadToBucket)("portfolio-media",`projects/${t.slug}/gallery`,e.name.replace(/\W+/g,"-"),e);a&&d.push({path:a})}let{tags:c=[],...p}=t;""===p.landing_page_id&&(p.landing_page_id=null);let{data:u,error:m}=await a.from("portfolio_projects").upsert({id:e?.id,...p,gallery:d,thumbnail_path:l,hero_image_path:r,url_landscape:o,url_square:s},{onConflict:"id"}).select().single();if(m)throw m;if(u?.id){await a.from("portfolio_project_tags").delete().eq("project_id",u.id);let e=c.length>0?c:M;e.length>0&&await a.from("portfolio_project_tags").insert(e.map(e=>({project_id:u.id,tag_id:e})))}A.push("/admin/trabalhos"),A.refresh()}catch(e){E(e instanceof Error?e.message:"Ocorreu um erro desconhecido")}})}),children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Título",description:"Nome público do projeto exibido no portfólio e na Home.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("title")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Slug",description:"Identificador único da URL. Use hífen no lugar de espaços.",className:"flex items-center gap-1"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[s.length>0&&(0,t.jsxs)("select",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm text-slate-200",defaultValue:"",onChange:e=>{let t=e.target.value;t&&k.setValue("slug",t)},children:[(0,t.jsx)("option",{value:"",children:"Usar slug das tags existentes"}),s.map(e=>(0,t.jsxs)("option",{value:e.slug,children:[e.label," — ",e.slug]},e.id))]}),(0,t.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("slug")})]})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Cliente",description:"Nome da marca ou empresa vinculada ao trabalho.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("client_name")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Marca",description:"Opcional. Use quando a marca final for diferente do cliente direto.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("brand_name")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Ano",description:"Ano principal de publicação do trabalho.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"number",className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("year")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Tipo de projeto",description:"Categoria principal para filtros e exibição no grid editorial.",className:"flex items-center gap-1"}),(0,t.jsxs)("select",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("project_type"),children:[(0,t.jsx)("option",{children:"Branding & Identity"}),(0,t.jsx)("option",{children:"Campanhas & Advertising"}),(0,t.jsx)("option",{children:"Web & Digital"}),(0,t.jsx)("option",{children:"Motion & Video"}),(0,t.jsx)("option",{children:"Institucional & Retail"})]})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2 md:col-span-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Short label",description:"Subtítulo curto para cards e contexto rápido.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("short_label")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2 md:col-span-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Descrição",description:"Resumo editorial do case para modal e páginas internas.",className:"flex items-center gap-1"}),(0,t.jsx)("textarea",{rows:4,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("description")})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)("input",{type:"checkbox",...k.register("featured_on_home")}),"Destaque Home"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)("input",{type:"checkbox",...k.register("featured_on_portfolio")}),"Destaque Portfólio"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)("input",{type:"checkbox",...k.register("is_published")}),"Publicado"]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Ordem Home",description:"Usado como desempate no CMS; a Home final embaralha os destaques ativos.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"number",className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("featured_home_order")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Ordem Portfólio",description:"Define prioridade visual para listagem do portfólio completo.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"number",className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("featured_portfolio_order")})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Tamanho preferencial no grid",description:"Sugestão de ocupação do card no grid editorial 12 colunas.",className:"flex items-center gap-1"}),(0,t.jsxs)("select",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...k.register("preferred_size"),children:[(0,t.jsx)("option",{value:"",children:"Automático (padrão)"}),(0,t.jsx)("option",{value:"sm",children:"Pequeno (1/3 da linha)"}),(0,t.jsx)("option",{value:"md",children:"Médio (1/3 da linha)"}),(0,t.jsx)("option",{value:"lg",children:"Grande (2/3 da linha)"}),(0,t.jsx)("option",{value:"wide",children:"Full (linha inteira)"})]}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:"Usado como preferência visual; o grid pode adaptar para fechar 12 colunas mantendo a mesma altura."})]})]}),(0,t.jsxs)("div",{className:"p-6 bg-blue-600/5 border border-blue-600/10 rounded-xl space-y-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-blue-400",children:"Página de Destino (Link Interno)"}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Landing Page vinculada",description:"Quando definida, o clique no card abre a página dinâmica /projects/[slug] em vez do modal padrão.",className:"flex items-center gap-1"}),(0,t.jsxs)("select",{className:"rounded-md bg-slate-900 border border-white/10 px-3 py-2 text-sm text-white",...k.register("landing_page_id"),children:[(0,t.jsx)("option",{value:"",children:"Nenhuma (Default)"}),z.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," (/",e.slug,") ·"," ",e.template===c.MASTER_PROJECT_TEMPLATE?"Template Mestre V1":e.template===c.MASTER_PROJECT_TEMPLATE_V3?"Template Mestre V3":e.template===c.MASTER_PROJECT_TEMPLATE_V2?"Template Mestre V2":"Legacy"]},e.id))]}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 italic",children:"Quando vinculado, o clique no trabalho abrirá a Landing Page customizada em vez de uma visualização padrão."})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Capa 16:9 (obrigatória)",description:"Variante horizontal usada em hero/full-highlight e containers amplos.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>v(e.target.files?.[0]??null)}),e?.url_landscape&&(0,t.jsxs)("span",{className:"text-xs text-slate-400 break-all",children:["Atual: ",e.url_landscape]})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Capa 1:1 (obrigatória)",description:"Variante quadrada para cards compactos e grid denso.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>T(e.target.files?.[0]??null)}),e?.url_square&&(0,t.jsxs)("span",{className:"text-xs text-slate-400 break-all",children:["Atual: ",e.url_square]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Thumbnail (opcional)",description:"Fallback legado para listagens antigas.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:e=>h(e.target.files?.[0]??null)}),e?.thumbnail_path&&(0,t.jsx)("span",{className:"text-xs text-slate-400 break-all",children:e.thumbnail_path})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Hero image (opcional)",description:"Imagem complementar para páginas de projeto e fallback visual.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>j(e.target.files?.[0]??null)}),e?.hero_image_path&&(0,t.jsx)("span",{className:"text-xs text-slate-400 break-all",children:e.hero_image_path})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)(d.FieldTooltip,{label:"Galeria",description:"Assets extras para modal/case; aceita imagens e vídeos.",className:"flex items-center gap-1"}),(0,t.jsx)("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:e=>N(Array.from(e.target.files??[]))}),Array.isArray(e?.gallery)&&e.gallery.length>0&&(0,t.jsxs)("span",{className:"text-xs text-slate-400",children:[e.gallery.length," itens já cadastrados"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.FieldTooltip,{label:"Tags",description:"Usadas para highlights rápidos no card e categorização editorial.",className:"mb-2 flex items-center gap-1"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:s.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[(0,t.jsx)("input",{type:"checkbox",value:e.id,checked:M.includes(e.id),onChange:e=>{let{checked:t,value:a}=e.target;t?k.setValue("tags",[...M,a]):k.setValue("tags",M.filter(e=>e!==a))}}),e.label]},e.id))})]}),C&&(0,t.jsx)("div",{className:"text-sm text-red-400",children:C}),(0,t.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-50",disabled:P,children:P?"Salvando...":"Salvar projeto"})]})}e.s(["ProjectForm",()=>u])}]);